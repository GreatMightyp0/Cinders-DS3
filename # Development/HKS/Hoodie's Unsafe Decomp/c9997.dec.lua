function ()
TRUE = 1
FALSE = 0
INVALID = -1
STYLE_DEFAULT = 0
STYLE_GUARD = 1
STYLE_PARRY = 2
MOVE_TYPE_NONE = 0
MOVE_TYPE_WALK_FRONT = 1
MOVE_TYPE_WALK_BACK = 2
MOVE_TYPE_WALK_LEFT = 3
MOVE_TYPE_WALK_RIGHT = 4
MOVE_TYPE_RUN = 5
MOVE_TYPE_PARALLEL = 6
AI_STATE_DEFAULT = 0
AI_STATE_BATTLE = 1
AI_RECOGNITION_NONE = 0
INDEX_TURN_BATTLE = 0
INDEX_TURN_DEFAULT = 1
INDEX_TURN_GUARD = 2
INDEX_TURN_PARRY = 3
INDEX_TURN_DIRECTION_LEFT90 = 0
INDEX_TURN_DIRECTION_RIGHT90 = 1
INDEX_TURN_DIRECTION_LEFT180 = 2
INDEX_TURN_DIRECTION_RIGHT180 = 3
INDEX_TURN_DIRECTION_LEFT45 = 4
INDEX_TURN_DIRECTION_RIGHT45 = 5
THROW_INVALID = 255
THROW_DEFAULT = 0
THROW_STATE_NONE = 0
GUARD_LEVEL_SMALL = 1
GUARD_LEVEL_MIDDLE = 2
GUARD_LEVEL_LARGE = 3
GUARD_LEVEL_EXLARGE = 4
DAMAGE_LEVEL_NONE = 0
DAMAGE_LEVEL_SMALL = 1
DAMAGE_LEVEL_MIDDLE = 2
DAMAGE_LEVEL_LARGE = 3
DAMAGE_LEVEL_LARGE_BLOW = 4
DAMAGE_LEVEL_PUSH = 5
DAMAGE_LEVEL_FLING = 6
DAMAGE_LEVEL_SMALL_BLOW = 7
DAMAGE_LEVEL_MINIMUM = 8
DAMAGE_LEVEL_UPPER = 9
DAMAGE_LEVEL_EX_BLAST = 10
DAMAGE_LEVEL_BREATH = 11
DAMAGE_FLAG_MINIMUM = 0
DAMAGE_FLAG_SMALL = 1
DAMAGE_FLAG_MIDDlE = 2
DAMAGE_FLAG_LARGE = 3
DAMAGE_FLAG_SMALL_BLOW = 4
DAMAGE_FLAG_LARGE_BLOW = 5
DAMAGE_FLAG_FLING = 6
DAMAGE_FLAG_UPPER = 7
DAMAGE_FLAG_PUSH = 8
DAMAGE_FLAG_WEAK = 10
DAMAGE_FLAG_GUARD_SMALL = 11
DAMAGE_FLAG_GUARD_LARGE = 12
DAMAGE_FLAG_GUARD_EXLARGE = 13
DAMAGE_FLAG_GUARD_BREAK = 14
DIRECTION_LEFT = 0
DIRECTION_RIGHT = 1
DIRECTION_FORWARD = 2
DIRECTION_BACK = 3
DIRECTION_FRONTRIGHT = 4
DIRECTION_FRONTLEFT = 5
FRONT_ADD = 0
BACK_ADD = 1
LEFT_ADD = 2
RIGHT_ADD = 3
FRONTUP_ADD = 4
FRONTDOWN_ADD = 5
DAMAGE_TYPE_DEATH = 2
DAMAGE_TYPE_GUARD = 3
DAMAGE_TYPE_PARRY = 5
DAMAGE_TYPE_DEATHIDLE = 8
DAMAGE_TYPE_WEAK_FRAME = 10
DAMAGE_TYPE_GUARDED_BOUND = 1000
DAMAGE_TYPE_GUARD_BREAK = 1001
DAMAGE_TYPE_GUARDED_BOUND_ENEMY1 = 1008
DAMAGE_TYPE_GUARDED_BOUND_ENEMY2 = 1009
DAMAGE_TYPE_GUARDED_BOUND_ENEMY3 = 1010
DAMAGE_TYPE_PARRY_ENEMY1 = 1011
DAMAGE_TYPE_PARRY_ENEMY2 = 1012
DAMAGE_TYPE_PARRY_ENEMY3 = 1013
DAMAGE_TYPE_WALL_ENEMY1 = 1014
DAMAGE_TYPE_WALL_ENEMY2 = 1015
DAMAGE_TYPE_WALL_ENEMY3 = 1016
DAMAGE_TYPE_NONE = 99999
SP_DAMAGE_NONE = 0
SP_DAMAGE_MIMIC = 1
SP_DAMAGE_ITEM_PARRY = 2
SP_DAMAGE_FAT_BREAK = 3
DAMAGE_ELEMENT_FIRE = 2
DEATH_TYPE_DEFAULT = 0
DEATH_TYPE_FIRE = 1
DEATH_TYPE_WEAK = 2
DEATH_TYPE_BLAST = 3
DEATH_TYPE_FLING = 4
DEATH_TYPE_UPPER = 5
DEATH_TYPE_LAND_DEFAULT = 6
DEATH_TYPE_FIRE = 7
DEATH_TYPE_THROW_DEF = 8
DEATH_TYPE_LADDER = 9
DEATH_TYPE_LAND_UPWARD = 10
DEATH_TYPE_LAND_DOWNWARD = 11
FALL_DEFAULT = 0
FALL_UPWARD = 1
FALL_DOWNWARD = 2
FALL_LADDER = 3
ACTION_TYPE_PARRY_THROW = 3110
LADDER_REQUEST_UP = 7210
LADDER_REQUEST_DOWN = 7220
ACTION_TYPE_GUARD = 9910
ACTION_TYPE_PARRY = 9920
ANIME_ID_IDLE_DEFAULT = 0
ANIME_ID_TRANS_BATTLE_DEFAULT = 1020
ANIME_ID_TRANS_DEFAULT_BATTLE = 1040
ANIME_ID_HEATUP = 1500
ANIME_ID_MODE_CHANGE = 1600
ANIME_ID_IDLE_UNIQUE_TO_IDLE = 1700
ANIME_ID_LOSE_TARGET = 1810
ANIME_ID_WALK_BATTLE = 2000
ANIME_ID_WALK_GUARD = 2030
ANIME_ID_WALK_PARRY = 2040
ANIME_ID_RUN_BATTLE = 2100
ANIME_ID_RUN_GUARD = 2130
ANIME_ID_RUN_PARRY = 2140
ANIME_ID_WALK_DEFAULT = 2300
ANIME_ID_RUN_DEFAULT = 2310
ANIME_ID_ATTACK_BEGIN = 3000
ANIME_ID_ATTACK_END = 3199
ANIME_ID_ART_STANCE_BEGIN = 3200
ANIME_ID_ART_STANCE_END = 3299
ANIME_ID_PARRY_ATTACK = 4000
ANIME_ID_BRING_EST = 4600
ANIME_ID_TURN = 5000
ANIME_ID_STEP_BEGIN = 6000
ANIME_ID_STEP_END = 6003
ANIME_ID_FALLING_UPWARD = 7010
ANIME_ID_FALLING_DOWNWARD = 7020
ANIME_ID_LAND_HEAVY = 7401
ANIME_ID_DEATH_LAND_DEFAULT = 7600
ANIME_ID_DEATH_LAND_UPWARD = 7610
ANIME_ID_DEATH_LAND_DOWNWARD = 7620
ANIME_ID_DAMAGE_SMALL = 8000
ANIME_ID_DAMAGE_MIDDLE = 8010
ANIME_ID_DAMAGE_LARGE = 8020
ANIME_ID_DAMAGE_MINIMUM = 8030
ANIME_ID_DAMAGE_SMALL_BLOW = 8100
ANIME_ID_DAMAGE_LARGE_BLOW = 8101
ANIME_ID_DAMAGE_FLING = 8110
ANIME_ID_DAMAGE_PUSH = 8120
ANIME_ID_DAMAGE_UPPER = 8130
ANIME_ID_DAMAGE_WEAK = 8140
ANIME_ID_GUARD_DAMAGE_SMALL_LOW = 8201
ANIME_ID_GUARD_DAMAGE_LARGE_LOW = 8221
ANIME_ID_ATTACK_BOUND_ENEMY1 = 8300
ANIME_ID_ATTACK_BOUND_ENEMY2 = 8310
ANIME_ID_PARRY_DAMAGE_ENEMY1 = 8500
ANIME_ID_PARRY_DAMAGE_ENEMY2 = 8501
ANIME_ID_SPECIAL_DAMAGE_RANDOM = 8600
ANIME_ID_SA_BREAK = 8700
ANIME_ID_ADD_BLEND_FRONT = 9000
ANIME_ID_ADD_BLEND_BACK = 9001
ANIME_ID_ADD_BLEND_LEFT = 9002
ANIME_ID_ADD_BLEND_RIGHT = 9003
ANIME_ID_PART1_DAMAGE = 9100
ANIME_ID_PART9_DAMAGE = 9171
ANIME_ID_BLEND_DAMAGE_FIRE_SMALL = 9200
ANIME_ID_BLEND_DAMAGE_FIRE_MIDDLE = 9210
ANIME_ID_BLEND_DAMAGE_SMALL_FRONT = 9310
ANIME_ID_BLEND_DAMAGE_MIDDLE_FRONT = 9320
ANIME_ID_BLEND_DAMAGE_LARGE_FRONT = 9330
ANIME_ID_NO_ADD = 9500
ANIME_ID_DEATH_DEFAULT = 10000
ANIME_ID_DEATH_FIRE = 10010
ANIME_ID_DEATH_WEAK = 10030
ANIME_ID_DEATH_BLAST = 10040
ANIME_ID_DEATH_FLING = 10050
ANIME_ID_DEATH_UPPER = 10060
ANIME_ID_DEATH_VARIATION = 10100
ANIME_ID_THROW_DEF_BACKSTAB = 11000
ANIME_ID_DEATH_THROW_BACKSTAB = 11001
ANIME_ID_THROW_DEF_PARRY = 11010
ANIME_ID_DEATH_THROW_PARRY = 11011
ANIME_ID_DEATH_START_LADDER = 13370
ANIME_ID_EVENT_BEGIN = 20000
ANIME_ID_EVENT_END = 20019
SP_EFFECT_ENABLE_PARRY_THROW = 30
SP_EFFECT_SLEEP = 3150
SP_EFFECT_MAGGOT_MAN = 5700
SP_EFFECT_CRUCIFY_UNDEAD_A = 5701
SP_EFFECT_CRUCIFY_UNDEAD_B = 5702
SP_EFFECT_TINDALOS_SP_DAMAGE = 5703
SP_EFFECT_COBRA_ASSASSIN = 5704
SP_EFFECT_SANDWORM = 5705
SP_EFFECT_UNDEAD_DOG = 5706
SP_EFFECT_MOTHER_DORAGON = 5707
SP_EFFECT_GARGOYLE_AT_CASTLE = 5708
SP_EFFECT_GUNDA_UNDEAD = 5709
SP_EFFECT_FULL_ARMOR_BEAST = 5710
SP_EFFECT_TINDALOS_THROW_DEF = 5711
SP_EFFECT_SKELETON_KNIGHT = 5712
SP_EFFECT_HUNGRY_JACK = 5713
SP_EFFECT_ARISE_3 = 5714
SP_EFFECT_ARISE = 5715
SP_EFFECT_DLC_WolfM = 5716
SP_EFFECT_DLC_WolfS = 5717
SP_EFFECT_DLC_SnowLady = 5718
SP_EFFECT_DLC_HAE_TATAKI = 5719
SP_EFFECT_DLC_KARASU_MURABITO = 5720
SP_EFFECT_DLC_KARASUKISI_COUNTER_R = 5721
SP_EFFECT_DLC_KARASUKISI_COUNTER_L = 5722
SP_EFFECT_DLC_TALK_KARASUMURABITO = 5723
SP_EFFECT_DLC_TALK_ZOMBIKARASU = 5724
SP_EFFECT_DLC_WOLFKING = 5730
SP_EFFECT_DLC_BOSUMUSUME = 5740
SP_EFFECT_IGNORE_SPECIAL_DAMAGE = 5750
SP_EFFECT_IGNORE_SET_DIST_RATIO = 5800
SP_EFFECT_ART_STANCE = 5821
SP_EFFECT_SKELETON_NO_DEAD = 5830
SP_EFFECT_SKELETON_TMP_DEATH = 5831
SP_EFFECT_CURSED_TREE_LAND = 5840
SP_EFFECT_CURSED_TREE_DEAD = 5900
SP_EFFECT_SANDWORM_DEAD = 5901
SP_EFFECT_BLAST_SPIN_ON_DEATH = 5902
SP_EFFECT_POOR_UNDEAD_DEAD = 5903
SP_EFFECT_PILGRIM_UNDEAD_DEAD = 5904
SP_EFFECT_UNDEAD = 5905
SP_EFFECT_ROLLING_PUSH = 6000
SP_EFFECT_ROCK_LIZARD = 6010
SP_EFFECT_IGNORE_ROLLING_PUSH = 6020
SP_EFFECT_IGNORE_DEAD = 6021
SP_EFFECT_ZOMBIE_GUARDIAN = 6060
SP_EFFECT_HALLECK = 6070
SP_EFFECT_HALLECK_BREAK = 6071
SP_EFFECT_MIMIC = 11720
SP_EFFECT_DISABLE_SLEEP = 11721
SP_EFFECT_IGNORE_TURN45 = 10922
SP_EFFECT_KING_OF_STORM = 12060
SP_EFFECT_STORMRULER = 11420
SP_EFFECT_DLC_BOSSMUSUME_UNDEAD = 13132
SP_EFFECT_DLC_BOSSMUSUME_FATHERDEAD = 13133
SP_EFFECT_DLC_BOSSMUSUME_UNABLE_DEAD = 13134
SP_EFFECT_DLC_BOSSMUSUME_THROWDEAD = 13138
SP_EFFECT_DLC_BOSSMUSUME_PARRYDEAD = 13141
SP_EFFECT_DLC_BOSSMUSUME_MODE3 = 13143
SP_EFFECT_DLC_BOSSMUSUME_NORMALDEAD = 13147
SP_EFFECT_DLC2_NINGENSEINOMUSHI_SEITAI_UNABLEDEAD = 5027
SP_EFFECT_DLC2_NINGENSEINOMUSHI_SEITAI_DEAD = 16258
SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA = 16291
SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA_AOMUKEDEAD = 16292
SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA_IKARING = 16293
SP_EFFECT_ABADON_TALKNPC = 16337
SP_EFFECT_DLC2_ABADON_SMALL_3015to30000 = 16346
SP_EFFECT_DARK_DORAGON_3012to20 = 16212
SP_EFFECT_DARK_DORAGON_3027to20 = 16550
SP_EFFECT_CRIMSONBAT_BEAM = 15045
SP_EFFECT_CRIMSONBAT_BIT = 15046
SP_EFFECT_CRIMSONBAT = 15200
SP_EFFECT_CRIMSONBAT_HU = 15201
SP_EFFECT_CRIMSONBAT_HU_DONE = 15202
SP_EFFECT_CRIMSONBAT_THROWDEAD = 15203
SP_EFFECT_CRIMSONBAT_DEAD = 15204
SP_EFFECT_CRIMSONBAT_UNABLE_DEAD = 15205
SP_EFFECT_VARIANT_YUPA_NO_WEAKDAMAGE = 16192
SP_EFFECT_DLC2_BLACKKNIGHT = 5741
SP_EFFECT_VARIANT_YUPA = 5742
SP_EFFECT_BLUE_LIGHTNING = 5743
SP_EFFECT_TYPE_HOLY = 145
SP_EFFECT_TYPE_DISABLE_EST = 154
SP_EFFECT_TYPE_FALL_DEATH_INVALID = 266
DOWNSIDE = 0
UPSIDE = 1
ENEMY = 0
PLAYER = 1
CONFLICT_DIST_CHR = 0.30000001192092896
CONFLICT_DIST_START = 1.5
CONFLICT_DIST_COAST = 3
LADDER_COMMAND_INVALID = -1
LADDER_COMMAND_UP = 0
LADDER_COMMAND_DOWN = 1
LADDER_ACTION_INVALID = -1
LADDER_ACTION_START_BOTTOM = 0
LADDER_ACTION_START_TOP = 1
LADDER_ACTION_UP_RIGHT = 2
LADDER_ACTION_UP_LEFT = 3
LADDER_ACTION_DOWN_RIGHT = 4
LADDER_ACTION_DOWN_LEFT = 5
LADDER_ACTION_END_TOP = 6
LADDER_ACTION_END_BOTTOM = 7
LADDER_ACTION_IDLE_RIGHT = 8
LADDER_ACTION_IDLE_LEFT = 9
LADDER_ACTION_ATTACK_UP_RIGHT = 10
LADDER_ACTION_ATTACK_UP_LEFT = 11
LADDER_ACTION_ATTACK_DOWN_RIGHT = 12
LADDER_ACTION_ATTACK_DOWN_LEFT = 13
LADDER_ACTION_COAST_START_RIGHT = 14
LADDER_ACTION_COAST_RIGHT = 15
LADDER_ACTION_COAST_STOP_RIGHT = 16
LADDER_ACTION_COAST_START_LEFT = 17
LADDER_ACTION_COAST_LEFT = 18
LADDER_ACTION_COAST_STOP_LEFT = 19
LADDER_ACTION_COAST_LANDING = 20
LADDER_ACTION_SMALL_DAMAGE = 21
LADDER_ACTION_LARGE_DAMAGE = 22
LADDER_HAND_LEFT = 0
LADDER_HAND_RIGHT = 1
LADDER_ATTACK_STAMINA_THRESHOLD = 50
LADDER_DAMAGE_STAMINA_THREAHOLD = 80
LADDER_ATTACK_STAMINA_CONSUME = -25
LADDER_SMALL_DAMAGE_STAMINA_CONSUME = -50
LADDER_LARGE_DAMAGE_STAMINA_CONSUME = -70
HEIGHT_TRANS_TO_LAND = 2
HEIGHT_TRANS_TO_HEAVY_LAND = 5
HEIGHT_FORCE_DEATH = 60
ATTACK_DIR_FRONT = 0
ATTACK_DIR_UP = 1
ATTACK_DIR_DOWN = 2
ATTACK_DIR_LEFT = 3
ATTACK_DIR_RIGHT = 4
BEH_IDENTIFIER_ROLLING = 1
BEH_IDENTIFIER_ITEM_PARRY = 3
BEH_IDENTIFIER_FAT_BREAK = 6
BEH_IDENTIFIER_KICK = 7
BEH_IDENTIFIER_MAGMA = 9
local f6424_local0 = {}
local f6424_local1 = {}
local f6424_local2 = ANIME_ID_WALK_BATTLE
local f6424_local3 = "W_WalkFrontBattle"
local f6424_local4 = MOVE_TYPE_WALK_FRONT
f6424_local1[1] = f6424_local2
f6424_local1[2] = f6424_local3
f6424_local1[3] = f6424_local4
f6424_local2 = {}
f6424_local3 = ANIME_ID_WALK_BATTLE + 1
f6424_local4 = "W_WalkBackBattle"
local f6424_local5 = MOVE_TYPE_WALK_BACK
f6424_local2[1] = f6424_local3
f6424_local2[2] = f6424_local4
f6424_local2[3] = f6424_local5
f6424_local3 = {}
f6424_local4 = ANIME_ID_WALK_BATTLE + 2
f6424_local5 = "W_WalkLeftBattle"
local f6424_local6 = MOVE_TYPE_WALK_LEFT
f6424_local3[1] = f6424_local4
f6424_local3[2] = f6424_local5
f6424_local3[3] = f6424_local6
f6424_local4 = {}
f6424_local5 = ANIME_ID_WALK_BATTLE + 3
f6424_local6 = "W_WalkRightBattle"
local f6424_local7 = MOVE_TYPE_WALK_RIGHT
f6424_local4[1] = f6424_local5
f6424_local4[2] = f6424_local6
f6424_local4[3] = f6424_local7
f6424_local5 = {}
f6424_local6 = ANIME_ID_RUN_BATTLE
f6424_local7 = "W_RunBattle"
local f6424_local8 = MOVE_TYPE_RUN
f6424_local5[1] = f6424_local6
f6424_local5[2] = f6424_local7
f6424_local5[3] = f6424_local8
f6424_local0[1] = f6424_local1
f6424_local0[2] = f6424_local2
f6424_local0[3] = f6424_local3
f6424_local0[4] = f6424_local4
f6424_local0[5] = f6424_local5
move_table_battle = f6424_local0
f6424_local0 = {}
f6424_local1 = {}
f6424_local2 = ANIME_ID_WALK_DEFAULT
f6424_local3 = "W_WalkFrontDefault"
f6424_local4 = MOVE_TYPE_WALK_FRONT
f6424_local1[1] = f6424_local2
f6424_local1[2] = f6424_local3
f6424_local1[3] = f6424_local4
f6424_local2 = {}
f6424_local3 = ANIME_ID_WALK_BATTLE
f6424_local4 = 1
f6424_local3 = f6424_local3 + f6424_local4
f6424_local4 = "W_WalkBackBattle"
f6424_local5 = MOVE_TYPE_WALK_BACK
f6424_local2[1] = f6424_local3
f6424_local2[2] = f6424_local4
f6424_local2[3] = f6424_local5
f6424_local3 = {}
f6424_local4 = ANIME_ID_WALK_BATTLE
f6424_local5 = 2
f6424_local4 = f6424_local4 + f6424_local5
f6424_local5 = "W_WalkLeftBattle"
f6424_local6 = MOVE_TYPE_WALK_LEFT
f6424_local3[1] = f6424_local4
f6424_local3[2] = f6424_local5
f6424_local3[3] = f6424_local6
f6424_local4 = {}
f6424_local5 = ANIME_ID_WALK_BATTLE
f6424_local5 = f6424_local5 + 3
f6424_local6 = "W_WalkRightBattle"
f6424_local7 = MOVE_TYPE_WALK_RIGHT
f6424_local4[1] = f6424_local5
f6424_local4[2] = f6424_local6
f6424_local4[3] = f6424_local7
f6424_local5 = {}
f6424_local6 = ANIME_ID_RUN_DEFAULT
f6424_local7 = "W_RunDefault"
f6424_local8 = MOVE_TYPE_RUN
f6424_local5[1] = f6424_local6
f6424_local5[2] = f6424_local7
f6424_local5[3] = f6424_local8
f6424_local0[1] = f6424_local1
f6424_local0[2] = f6424_local2
f6424_local0[3] = f6424_local3
f6424_local0[4] = f6424_local4
f6424_local0[5] = f6424_local5
move_table_default = f6424_local0
f6424_local0 = {}
f6424_local1 = {}
f6424_local2 = ANIME_ID_WALK_GUARD
f6424_local3 = "W_GuardWalkFront"
f6424_local4 = MOVE_TYPE_WALK_FRONT
f6424_local1[1] = f6424_local2
f6424_local1[2] = f6424_local3
f6424_local1[3] = f6424_local4
f6424_local2 = {}
f6424_local3 = ANIME_ID_WALK_GUARD
f6424_local4 = 1
f6424_local3 = f6424_local3 + f6424_local4
f6424_local4 = "W_GuardWalkBack"
f6424_local5 = MOVE_TYPE_WALK_BACK
f6424_local2[1] = f6424_local3
f6424_local2[2] = f6424_local4
f6424_local2[3] = f6424_local5
f6424_local3 = {}
f6424_local4 = ANIME_ID_WALK_GUARD
f6424_local5 = 2
f6424_local4 = f6424_local4 + f6424_local5
f6424_local5 = "W_GuardWalkLeft"
f6424_local6 = MOVE_TYPE_WALK_LEFT
f6424_local3[1] = f6424_local4
f6424_local3[2] = f6424_local5
f6424_local3[3] = f6424_local6
f6424_local4 = {}
f6424_local5 = ANIME_ID_WALK_GUARD
f6424_local5 = f6424_local5 + 3
f6424_local6 = "W_GuardWalkRight"
f6424_local7 = MOVE_TYPE_WALK_RIGHT
f6424_local4[1] = f6424_local5
f6424_local4[2] = f6424_local6
f6424_local4[3] = f6424_local7
f6424_local5 = {}
f6424_local6 = ANIME_ID_RUN_GUARD
f6424_local7 = "W_GuardRun"
f6424_local8 = MOVE_TYPE_RUN
f6424_local5[1] = f6424_local6
f6424_local5[2] = f6424_local7
f6424_local5[3] = f6424_local8
f6424_local0[1] = f6424_local1
f6424_local0[2] = f6424_local2
f6424_local0[3] = f6424_local3
f6424_local0[4] = f6424_local4
f6424_local0[5] = f6424_local5
move_table_guard = f6424_local0
f6424_local0 = {}
f6424_local1 = {}
f6424_local2 = ANIME_ID_WALK_PARRY
f6424_local3 = "W_ParryWalkFront"
f6424_local4 = MOVE_TYPE_WALK_FRONT
f6424_local1[1] = f6424_local2
f6424_local1[2] = f6424_local3
f6424_local1[3] = f6424_local4
f6424_local2 = {}
f6424_local3 = ANIME_ID_WALK_PARRY
f6424_local4 = 1
f6424_local3 = f6424_local3 + f6424_local4
f6424_local4 = "W_ParryWalkBack"
f6424_local5 = MOVE_TYPE_WALK_BACK
f6424_local2[1] = f6424_local3
f6424_local2[2] = f6424_local4
f6424_local2[3] = f6424_local5
f6424_local3 = {}
f6424_local4 = ANIME_ID_WALK_PARRY
f6424_local5 = 2
f6424_local4 = f6424_local4 + f6424_local5
f6424_local5 = "W_ParryWalkLeft"
f6424_local6 = MOVE_TYPE_WALK_LEFT
f6424_local3[1] = f6424_local4
f6424_local3[2] = f6424_local5
f6424_local3[3] = f6424_local6
f6424_local4 = {}
f6424_local5 = ANIME_ID_WALK_PARRY
f6424_local5 = f6424_local5 + 3
f6424_local6 = "W_ParryWalkRight"
f6424_local7 = MOVE_TYPE_WALK_RIGHT
f6424_local4[1] = f6424_local5
f6424_local4[2] = f6424_local6
f6424_local4[3] = f6424_local7
f6424_local5 = {}
f6424_local6 = ANIME_ID_RUN_PARRY
f6424_local7 = "W_ParryRun"
f6424_local8 = MOVE_TYPE_RUN
f6424_local5[1] = f6424_local6
f6424_local5[2] = f6424_local7
f6424_local5[3] = f6424_local8
f6424_local0[1] = f6424_local1
f6424_local0[2] = f6424_local2
f6424_local0[3] = f6424_local3
f6424_local0[4] = f6424_local4
f6424_local0[5] = f6424_local5
move_table_parry = f6424_local0
f6424_local0 = 0
g_FrameCount = f6424_local0
f6424_local0 = function (num)
    local str = nil
    if num < 10 then
        str = "Debug0"
    else
        str = "Debug"
    end
    local vec = GetVariable(str .. num)
    vec[0] = vec[0] + 1
    vec[1] = g_FrameCount
    SetVariable(str .. num, vec)
    
end

IncNum = f6424_local0
f6424_local0 = function (pos, val)
    local str = nil
    if pos < 10 then
        str = "Debug0"
    else
        str = "Debug"
    end
    vector = GetVariable(str .. pos)
    vector[0] = val
    vector[1] = g_FrameCount
    SetVariable(str .. pos, vector)
    
end

DebugPrint = f6424_local0
f6424_local0 = function (event)
    hkbFireEvent(event)
    
end

Fire = f6424_local0
f6424_local0 = function (id)
    return env(ESD_ENV_DS3DoesAnimExist, id)
    return 
    
end

IsExistAnime = f6424_local0
f6424_local0 = function ()
    act("キャンセルタイミングでAIへのリプランニング要求")
    
end

Replanning = f6424_local0
f6424_local0 = function (name, val)
    hkbSetVariable(name, val)
    
end

SetVariable = f6424_local0
f6424_local0 = function (name)
    return hkbGetVariable(name)
    
end

GetVariable = f6424_local0
f6424_local0 = function (idle_type)
    if idle_type == AI_STATE_DEFAULT then
        if IsExistAnime(ANIME_ID_IDLE_DEFAULT) == TRUE then
            SetVariable("IndexAiState", AI_STATE_DEFAULT)
        else
            SetVariable("IndexAiState", AI_STATE_BATTLE)
        end
    else
        SetVariable("IndexAiState", AI_STATE_BATTLE)
    end
    return 
    
end

SetIdleType = f6424_local0
f6424_local0 = function (action_type)
    act(9103, action_type)
    
end

CallActionState = f6424_local0
f6424_local0 = function (is_on_cancel)
    if is_on_cancel == TRUE and env(ESD_ENV_DS3IsMoveCancelPossible) == FALSE then
        return FALSE
    end
    local turn_angle = GetVariable("TurnAngle")
    if math.abs(turn_angle) <= 0 then
        return FALSE
    end
    local is_emergency_turn = env(ESD_ENV_IsEmergencyQuickTurnActivated)
    if math.abs(turn_angle) < 45 and is_emergency_turn == FALSE then
        return FALSE
    end
    local dir = INVALID
    local correction_factor = 0
    if math.abs(turn_angle) < 67.5 then
        if turn_angle < 0 then
            if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_TURN45) then
                dir = INDEX_TURN_DIRECTION_LEFT90
                correction_factor = 90
            else
                dir = INDEX_TURN_DIRECTION_LEFT45
                correction_factor = 45
            end
        elseif TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_TURN45) then
            dir = INDEX_TURN_DIRECTION_RIGHT90
            correction_factor = 90
        else
            dir = INDEX_TURN_DIRECTION_RIGHT45
            correction_factor = 45
        end
    elseif math.abs(turn_angle) < 135 then
        if turn_angle < 0 then
            dir = INDEX_TURN_DIRECTION_LEFT90
        else
            dir = INDEX_TURN_DIRECTION_RIGHT90
        end
        correction_factor = 90
    else
        if turn_angle < 0 then
            dir = INDEX_TURN_DIRECTION_LEFT180
        else
            dir = INDEX_TURN_DIRECTION_RIGHT180
        end
        correction_factor = 180
    end
    local buff = {}
    local ai_rec = env(ESD_ENV_GetAITargetAwareState)
    local action_type = env(ESD_ENV_GetAIActionType)
    if action_type == ACTION_TYPE_GUARD then
        buff[1] = INDEX_TURN_GUARD
        buff[2] = INDEX_TURN_BATTLE
        buff[3] = INDEX_TURN_DEFAULT
    elseif action_type == ACTION_TYPE_PARRY then
        buff[1] = INDEX_TURN_PARRY
        buff[2] = INDEX_TURN_BATTLE
        buff[3] = INDEX_TURN_DEFAULT
    elseif ai_rec > AI_RECOGNITION_NONE then
        buff[1] = INDEX_TURN_BATTLE
        buff[2] = INDEX_TURN_DEFAULT
        buff[3] = INDEX_TURN_GUARD
    else
        buff[1] = INDEX_TURN_DEFAULT
        buff[2] = INDEX_TURN_BATTLE
        buff[3] = INDEX_TURN_GUARD
    end
    local turn_index = INVALID
    for , 1, #buff do
        local anim = ANIME_ID_TURN + buff[f6434_local0] * 10 + dir
        if IsExistAnime(anim) == TRUE then
            turn_index = buff[f6434_local0]
            break
        elseif dir == INDEX_TURN_DIRECTION_LEFT45 then
            anim = ANIME_ID_TURN + buff[f6434_local0] * 10 + INDEX_TURN_DIRECTION_LEFT90
            if IsExistAnime(anim) == TRUE then
                turn_index = buff[f6434_local0]
                dir = INDEX_TURN_DIRECTION_LEFT90
                correction_factor = 90
                break
            end
        elseif dir == INDEX_TURN_DIRECTION_RIGHT45 then
            anim = ANIME_ID_TURN + buff[f6434_local0] * 10 + INDEX_TURN_DIRECTION_RIGHT90
            if IsExistAnime(anim) == TRUE then
                turn_index = buff[f6434_local0]
                dir = INDEX_TURN_DIRECTION_RIGHT90
                correction_factor = 90
                break
            end
        end
    end
    if turn_index >= 0 then
        local f6434_local0 = act
        local f6434_local1 = 9105
        f6434_local2 = correction_factor
        f6434_local0(f6434_local1, f6434_local2)
        f6434_local0 = act
        f6434_local1 = 9104
        f6434_local0(f6434_local1)
        local event = "W_Turn"
        local ai_state = AI_STATE_BATTLE
        f6434_local2 = INDEX_TURN_BATTLE
        if turn_index == f6434_local2 then
            f6434_local2 = event
            event = f6434_local2 .. "Battle"
        else
            f6434_local2 = INDEX_TURN_GUARD
            if turn_index == f6434_local2 then
                f6434_local2 = event
                event = f6434_local2 .. "Guard"
            else
                f6434_local2 = INDEX_TURN_PARRY
                if turn_index == f6434_local2 then
                    f6434_local2 = event
                    event = f6434_local2 .. "Parry"
                else
                    f6434_local2 = event
                    event = f6434_local2 .. "Default"
                    ai_state = AI_STATE_DEFAULT
                end
            end
        end
        f6434_local2 = SetIdleType
        f6434_local2(ai_state)
        f6434_local2 = INDEX_TURN_DIRECTION_LEFT90
        if dir == f6434_local2 then
            f6434_local2 = event
            event = f6434_local2 .. "_Left90"
        else
            f6434_local2 = INDEX_TURN_DIRECTION_RIGHT90
            if dir == f6434_local2 then
                f6434_local2 = event
                event = f6434_local2 .. "_Right90"
            else
                f6434_local2 = INDEX_TURN_DIRECTION_LEFT180
                if dir == f6434_local2 then
                    f6434_local2 = event
                    event = f6434_local2 .. "_Left180"
                else
                    f6434_local2 = INDEX_TURN_DIRECTION_RIGHT180
                    if dir == f6434_local2 then
                        f6434_local2 = event
                        event = f6434_local2 .. "_Right180"
                    else
                        f6434_local2 = INDEX_TURN_DIRECTION_LEFT45
                        if dir == f6434_local2 then
                            f6434_local2 = event
                            event = f6434_local2 .. "_Left45"
                        else
                            f6434_local2 = INDEX_TURN_DIRECTION_RIGHT45
                            if dir == f6434_local2 then
                                f6434_local2 = event
                                event = f6434_local2 .. "_Right45"
                            end
                        end
                    end
                end
            end
        end
        f6434_local2 = Fire
        f6434_local2(event)
        f6434_local2 = TRUE
        return f6434_local2
    end
    f6434_local0 = FALSE
    return f6434_local0
    
end

ExecTurn = f6424_local0
f6424_local0 = function (style)
    local action_type = env(ESD_ENV_GetAIActionType)
    if action_type <= 0 then
        if style == STYLE_DEFAULT then
            return FALSE
        else
            if style == STYLE_GUARD then
                Fire("W_GuardEnd")
            elseif style == STYLE_PARRY then
                Fire("W_ParryEnd")
            end
            return TRUE
        end
    end
    if ExecArtEnd(action_type) == TRUE then
        return TRUE
    end
    if ExecAIStep(action_type) == TRUE then
        return TRUE
    end
    if ExecAIAttack(action_type) == TRUE then
        return TRUE
    end
    if ExecAIGuard(action_type, style) == TRUE then
        return TRUE
    end
    if ExecAIParry(action_type, style) == TRUE then
        return TRUE
    end
    return FALSE
    
end

ExecAIAction = f6424_local0
f6424_local0 = function (style)
    local action_type_atk = INVALID
    local action_type = INVALID
    local action_type_combo = env(ESD_ENV_GetAIChainActionType)
    local action_type_cancel = env(ESD_ENV_GetAIAtkCancelType)
    local action_type_step = env(ESD_ENV_GetAIChainStepType)
    local action_type_endure = env(ESD_ENV_GetAIDefenseCancelType)
    local action_type_find_stab = env(ESD_ENV_GetAIVersusBackstabCancelType)
    if action_type_combo > 0 then
        action_type_atk = action_type_combo
        action_type = action_type_combo
    elseif action_type_cancel > 0 then
        action_type_atk = action_type_cancel
        action_type = action_type_cancel
    elseif action_type_step > 0 then
        action_type = action_type_step
    elseif action_type_endure > 0 then
        action_type = action_type_endure
        action_type_atk = action_type_endure
    elseif action_type_find_stab > 0 then
        action_type = action_type_find_stab
        action_type_atk = action_type_find_stab
    else
        return FALSE
    end
    if ExecArtEnd(action_type) == TRUE then
        return TRUE
    end
    if ExecAIStep(action_type_step) == TRUE then
        return TRUE
    end
    if ExecAIAttack(action_type_atk) == TRUE then
        return TRUE
    end
    if ExecAIGuard(action_type_atk, style) == TRUE then
        return TRUE
    end
    if ExecAIParry(action_type_atk, style) == TRUE then
        return TRUE
    end
    return FALSE
    
end

ExecAICancelAction = f6424_local0
f6424_local0 = function (action_type)
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ART_STANCE) == FALSE then
        return FALSE
    end
    if action_type == ACTION_TYPE_PARRY then
        return FALSE
    end
    if action_type >= ANIME_ID_ART_STANCE_BEGIN and action_type <= ANIME_ID_ART_STANCE_END then
        return FALSE
    end
    Fire("W_ParryEnd")
    return TRUE
    
end

ExecArtEnd = f6424_local0
f6424_local0 = function (action_type, style)
    if action_type ~= ACTION_TYPE_GUARD then
        return FALSE
    end
    if style == STYLE_GUARD then
        return FALSE
    elseif style == STYLE_PARRY then
        Fire("W_ParryEnd")
        return TRUE
    end
    local move_speed_level = GetVariable("MoveSpeedLevel")
    if move_speed_level > 0 then
        local i = GetMoveDir(move_speed_level)
        local anim_id = move_table_guard[i][1]
        if IsExistAnime(anim_id) == FALSE then
            return FALSE
        end
    end
    Fire("W_GuardStart")
    return TRUE
    
end

ExecAIGuard = f6424_local0
f6424_local0 = function (action_type, style)
    if action_type ~= ACTION_TYPE_PARRY then
        return FALSE
    end
    if style == STYLE_PARRY then
        return FALSE
    elseif style == STYLE_GUARD then
        Fire("W_GuardEnd")
        return TRUE
    end
    local move_speed_level = GetVariable("MoveSpeedLevel")
    if move_speed_level > 0 then
        local i = GetMoveDir(move_speed_level)
        local anim_id = move_table_parry[i][1]
        if IsExistAnime(anim_id) == FALSE then
            return FALSE
        end
    end
    Fire("W_ParryStart")
    return TRUE
    
end

ExecAIParry = f6424_local0
f6424_local0 = function (action_type)
    if action_type == ANIME_ID_HEATUP then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type == ANIME_ID_MODE_CHANGE then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type == ANIME_ID_LOSE_TARGET then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type >= ANIME_ID_ATTACK_BEGIN and action_type <= ANIME_ID_ATTACK_END then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type >= ANIME_ID_ART_STANCE_BEGIN and action_type <= ANIME_ID_ART_STANCE_END then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ART_STANCE) == FALSE then
            Fire("W_ParryStart")
            return TRUE
        else
            ExecAttack(action_type)
            return TRUE
        end
    end
    if action_type == ANIME_ID_PARRY_ATTACK then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type == ANIME_ID_BRING_EST then
        ExecAttack(action_type)
        return TRUE
    end
    if action_type >= ANIME_ID_EVENT_BEGIN and action_type <= ANIME_ID_EVENT_END then
        ExecEventAction(action_type)
        return TRUE
    end
    return FALSE
    
end

ExecAIAttack = f6424_local0
f6424_local0 = function (action_type)
    if ANIME_ID_STEP_BEGIN <= action_type and action_type <= ANIME_ID_STEP_END then
        ExecStep(action_type)
        return TRUE
    end
    return FALSE
    
end

ExecAIStep = f6424_local0
f6424_local0 = function (action_number)
    Fire("W_Attack" .. action_number)
    CallActionState(action_number)
    
end

ExecAttack = f6424_local0
f6424_local0 = function (action_number)
    Fire("W_Event" .. action_number)
    CallActionState(action_number)
    
end

ExecEventAction = f6424_local0
f6424_local0 = function (action_number)
    Fire("W_Step" .. action_number)
    CallActionState(action_number)
    
end

ExecStep = f6424_local0
f6424_local0 = function (fall_type)
    if env(ESD_ENV_IsLanding) == FALSE then
        if env(ESD_ENV_GetReceivedDamageType) == DAMAGE_TYPE_DEATH and env(ESD_ENV_HasReceivedAnyDamage) == FALSE then
            Fire("W_DeathStartDefault")
            return TRUE
        end
        local height = env(ESD_ENV_GetFallHeight) / 100
        if height > HEIGHT_FORCE_DEATH and env(ESD_ENV_GetStateChangeType, SP_EFFECT_TYPE_FALL_DEATH_INVALID) == FALSE then
            Fire("W_DeathStartDefault")
            return TRUE
        end
        return FALSE
    end
    if TRUE == IsDead() then
        if fall_type == FALL_UPWARD then
            anim_id = ANIME_ID_DEATH_LAND_UPWARD
            event = "W_DeathStartLandUpward"
        elseif fall_type == FALL_DOWNWARD then
            anim_id = ANIME_ID_DEATH_LAND_DOWNWARD
            event = "W_DeathStartLandDownward"
            if FALSE == IsExistAnime(anim_id) then
                anim_id = ANIME_ID_DEATH_LAND_DEFAULT
                event = "W_DeathStartLandDefault"
            end
        elseif fall_type == FALL_LADDER then
            anim_id = ANIME_ID_DEATH_START_LADDER
            event = "W_DeathStartLadder"
        else
            anim_id = ANIME_ID_DEATH_LAND_DEFAULT
            event = "W_DeathStartLandDefault"
            if FALSE == IsExistAnime(anim_id) then
                anim_id = ANIME_ID_DEATH_LAND_DOWNWARD
                event = "W_DeathStartLandDownward"
            end
        end
        if FALSE == IsExistAnime(anim_id) then
            local index = GetRandomIndex(ANIME_ID_DEATH_VARIATION, 0, 1, 10)
            SetVariable("IndexDeathVariation", index)
            event = "W_DeathStartDefault"
        end
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SANDWORM_DEAD) == TRUE then
            event = "W_Event20000"
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CURSED_TREE_DEAD) == TRUE then
            event = "W_Event20001"
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_PILGRIM_UNDEAD_DEAD) == TRUE then
            event = "W_Event20010"
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN) == TRUE then
            if env(ESD_ENV_GetRandomInt, 0, 1) > 0 then
                event = "W_Event20002"
            else
                event = "W_Event20003"
            end
        end
        Fire(event)
        return TRUE
    end
    if env(ESD_ENV_DS3CheckForEventAnimPlaybackRequest) == TRUE then
        return TRUE
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CURSED_TREE_LAND) == TRUE then
        Replanning()
        Fire("W_Event20000")
        return TRUE
    end
    if fall_type == FALL_LADDER then
        Replanning()
        Fire("W_LadderFallLand")
        return TRUE
    elseif fall_type == FALL_DEFAULT then
        local height = env(ESD_ENV_GetFallHeight) / 100
        if height > HEIGHT_TRANS_TO_HEAVY_LAND then
            if TRUE == IsExistAnime(ANIME_ID_LAND_HEAVY) then
                Fire("W_LandHeavy")
            else
                Fire("W_LandDefault")
            end
            Replanning()
            return TRUE
        elseif height > HEIGHT_TRANS_TO_LAND then
            Replanning()
            Fire("W_LandDefault")
            return TRUE
        else
            act("AIへのリプランニング要求")
            Fire("W_Idle")
            return TRUE
        end
    elseif fall_type == FALL_UPWARD then
        Replanning()
        Fire("W_LandUpward")
        return TRUE
    elseif fall_type == FALL_DOWNWARD then
        Replanning()
        Fire("W_LandDownward")
        return TRUE
    else
        Fire("W_LandDefault")
        return TRUE
    end
    return FALSE
    
end

ExecLand = f6424_local0
f6424_local0 = function (is_damage_state)
    if env(ESD_ENV_IsFalling) == FALSE then
        return FALSE
    end
    if is_damage_state == TRUE then
        local damage_direction = env(ESD_ENV_GetReceivedDamageDirection)
        if damage_direction >= DIRECTION_LEFT and damage_direction <= DIRECTION_FORWARD then
            if TRUE == IsExistAnime(ANIME_ID_FALLING_UPWARD) then
                Fire("W_FallingUpward")
                return TRUE
            end
        elseif damage_direction == DIRECTION_BACK and TRUE == IsExistAnime(ANIME_ID_FALLING_DOWNWARD) then
            Fire("W_FallingDownward")
            return TRUE
        end
    end
    Fire("W_FallingDefault")
    return TRUE
    
end

ExecFallStart = f6424_local0
f6424_local0 = function ()
    local cur_ai_state = env(ESD_ENV_GetAITargetAwareState)
    if cur_ai_state > AI_RECOGNITION_NONE then
        cur_ai_state = AI_STATE_BATTLE
    elseif IsExistAnime(ANIME_ID_IDLE_DEFAULT) == TRUE then
        cur_ai_state = AI_STATE_DEFAULT
    else
        cur_ai_state = AI_STATE_BATTLE
    end
    if cur_ai_state == GetVariable("IndexAiState") then
        return FALSE
    end
    SetIdleType(cur_ai_state)
    if cur_ai_state == AI_STATE_DEFAULT then
        if IsExistAnime(ANIME_ID_TRANS_BATTLE_DEFAULT) == TRUE then
            Fire("W_TransToDefaultFromBattle")
            return TRUE
        end
    elseif IsExistAnime(ANIME_ID_TRANS_DEFAULT_BATTLE) == TRUE then
        Fire("W_TransToBattleFromDefault")
        return TRUE
    end
    return FALSE
    
end

ExecAIStateChange = f6424_local0
f6424_local0 = function ()
    local hp = env(ESD_ENV_GetHP)
    if (env(ESD_ENV_GetReceivedDamageType) == DAMAGE_TYPE_DEATH or hp <= 0) and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_DEAD) == FALSE then
        return TRUE
    end
    if hp <= 1 then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SKELETON_NO_DEAD) == TRUE then
            return TRUE
        end
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SKELETON_NO_DEAD + 2) == TRUE then
            return TRUE
        end
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN) == TRUE then
            return TRUE
        end
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_NINGENSEINOMUSHI_SEITAI_DEAD) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_NINGENSEINOMUSHI_SEITAI_UNABLEDEAD) == FALSE then
        return TRUE
    end
    if hp <= 1 and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_UNABLE_DEAD) == FALSE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU_DONE) == FALSE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_DEAD) == TRUE then
        return TRUE
    end
    return FALSE
    
end

IsDead = f6424_local0
f6424_local0 = function ()
    if IsDead() == FALSE then
        return FALSE
    end
    local death_type = GetDeathType()
    local anim_id = -1
    local event = "W_DeathStartDefault"
    if death_type == DEATH_TYPE_WEAK then
        anim_id = ANIME_ID_DEATH_WEAK
        event = "W_DeathStartWeak"
    elseif death_type == DEATH_TYPE_BLAST then
        anim_id = ANIME_ID_DEATH_BLAST
        event = "W_DeathStartBlast"
    elseif death_type == DEATH_TYPE_FIRE then
        anim_id = ANIME_ID_DEATH_FIRE
        event = "W_DeathStartFire"
    elseif death_type == DEATH_TYPE_UPPER then
        anim_id = ANIME_ID_DEATH_UPPER
        event = "W_DeathStartUpper"
    elseif death_type == DEATH_TYPE_FLING then
        anim_id = ANIME_ID_DEATH_FLING
        event = "W_DeathStartFling"
    end
    if anim_id >= 0 and IsExistAnime(anim_id) == FALSE then
        event = "W_DeathStartDefault"
        death_type = DEATH_TYPE_DEFAULT
    end
    if death_type == DEATH_TYPE_DEFAULT then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_UNDEAD) == TRUE then
            local rand = env(ESD_ENV_GetRandomInt, 0, 2)
            if rand == 0 then
                event = "W_Event20012"
            elseif rand == 1 then
                event = "W_Event20013"
            else
                event = "W_Event20014"
            end
        else
            local index = GetRandomIndex(ANIME_ID_DEATH_VARIATION, 0, 1, 10)
            SetVariable("IndexDeathVariation", index)
        end
    elseif death_type == DEATH_TYPE_FIRE then
        local index = GetRandomIndex(ANIME_ID_DEATH_FIRE, 1, 1, 10)
        SetVariable("IndexDeathVariation", index)
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_BLAST_SPIN_ON_DEATH) == TRUE then
        act(125)
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SANDWORM_DEAD) == TRUE then
        event = "W_Event20000"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CURSED_TREE_DEAD) == TRUE then
        event = "W_Event20001"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_PILGRIM_UNDEAD_DEAD) == TRUE then
        event = "W_Event20010"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN) == TRUE then
        if 0 < env(ESD_ENV_GetRandomInt, 0, 1) then
            event = "W_Event20002"
        else
            event = "W_Event20003"
        end
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_HAE_TATAKI) == TRUE then
        act(125)
        event = "W_Event20000"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_TALK_ZOMBIKARASU) == TRUE then
        event = "W_Event20000"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_TALK_KARASUMURABITO) == TRUE then
        event = "W_Event20002"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA_AOMUKEDEAD) == TRUE then
        event = "W_Event20005"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_NINGENSEINOMUSHI_SEITAI_DEAD) == TRUE then
        event = "W_Event20001"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_BLACKKNIGHT) == TRUE then
        event = "W_Event20000"
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU) == TRUE and FALSE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU_DONE) then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_BEAM) == TRUE then
            event = "W_Event20002"
        else
            event = "W_Event20003"
        end
    elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ABADON_TALKNPC) == TRUE then
        event = "W_DeathStartDefault"
    end
    Fire(event)
    return TRUE
    
end

ExecDeath = f6424_local0
f6424_local0 = function (death_type)
    if env(ESD_ENV_GetHP) > 0 then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SKELETON_TMP_DEATH) == TRUE or env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SKELETON_TMP_DEATH + 2) == TRUE then
            if env(ESD_ENV_GetStateChangeType, SP_EFFECT_TYPE_HOLY) == FALSE and env(ESD_ENV_IsVersusDivineDamage) == FALSE then
                Fire("W_Event30000")
                return TRUE
            end
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN) == TRUE then
            if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN + 1) == TRUE then
                Fire("W_Event30000")
                return TRUE
            elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ZOMBIE_GUARDIAN + 2) == TRUE then
                Fire("W_Event30001")
                return TRUE
            end
        end
    end
    if env(ESD_ENV_IsAnimEnd, 1) == FALSE then
        return FALSE
    end
    local event = "W_DeathIdleDefault"
    local anim_id = -1
    local index = -1
    if death_type == DEATH_TYPE_FIRE then
        index = GetVariable("IndexDeathVariation")
        anim_id = ANIME_ID_DEATH_FIRE + index * 10 + 1
        event = "W_DeathIdleFire"
    elseif death_type == DEATH_TYPE_WEAK then
        anim_id = ANIME_ID_DEATH_WEAK + 1
        event = "W_DeathIdleWeak"
    elseif death_type == DEATH_TYPE_BLAST then
        anim_id = ANIME_ID_DEATH_BLAST + 1
        event = "W_DeathIdleBlast"
    elseif death_type == DEATH_TYPE_FLING then
        anim_id = ANIME_ID_DEATH_FLING + 1
        event = "W_DeathIdleFling"
    elseif death_type == DEATH_TYPE_UPPER then
        anim_id = ANIME_ID_DEATH_UPPER + 1
        event = "W_DeathIdleUpper"
    elseif death_type == DEATH_TYPE_LAND_DEFAULT then
        anim_id = ANIME_ID_DEATH_LAND_DEFAULT + 1
        event = "W_DeathIdleLandDefault"
    elseif death_type == DEATH_TYPE_LAND_UPWARD then
        anim_id = ANIME_ID_DEATH_LAND_UPWARD + 1
        event = "W_DeathIdleLandUpward"
    elseif death_type == DEATH_TYPE_LAND_DOWNWARD then
        anim_id = ANIME_ID_DEATH_LAND_DOWNWARD + 1
        event = "W_DeathIdleLandDownward"
    elseif death_type == DEATH_TYPE_LADDER then
        anim_id = ANIME_ID_DEATH_START_LADDER + 1
        event = "W_DeathIdleLadder"
    elseif death_type == DEATH_TYPE_THROW_DEF then
        local throw_id = GetVariable("ThrowID")
        anim_id = ANIME_ID_DEATH_THROW_PARRY + 1
        if throw_id == ANIME_ID_THROW_DEF_BACKSTAB then
            anim_id = ANIME_ID_DEATH_THROW_BACKSTAB + 1
        end
        event = "W_ThrowDefDeathIdle"
    elseif death_type == DEATH_TYPE_DEFAULT then
        index = GetVariable("IndexDeathVariation")
        if index > 0 then
            anim_id = ANIME_ID_DEATH_VARIATION + 10 * (index - 1) + 1
        end
    end
    if anim_id >= 0 then
        if IsExistAnime(anim_id) == FALSE then
            event = "W_DeathIdleDefault"
            SetVariable("IndexDeathIdleVariation", 0)
        elseif index >= 0 then
            SetVariable("IndexDeathIdleVariation", index)
        end
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_POOR_UNDEAD_DEAD) == TRUE then
        event = "W_Event20000"
    end
    Fire(event)
    return TRUE
    
end

ExecTransToDeathIdle = f6424_local0
f6424_local0 = function ()
    for , 0, 2 do
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_SPECIAL_DAMAGE + f6451_local0) == TRUE then
            return FALSE
        end
    end
    local f6451_local0 = TRUE
    return f6451_local0
    
end

IsSpDamageAllowed = f6424_local0
f6424_local0 = function (pre_sp_damage)
    if pre_sp_damage == SP_DAMAGE_ITEM_PARRY then
        return TRUE
    end
    local damage_elem = env(ESD_ENV_GetSpecialAttribute)
    if damage_elem == DAMAGE_ELEMENT_FIRE and (TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_MAGGOT_MAN) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRUCIFY_UNDEAD_A) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRUCIFY_UNDEAD_B) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_UNDEAD_DOG) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_GUNDA_UNDEAD) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ARISE_3) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ARISE) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_WolfM) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_WolfS) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_SnowLady) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_KARASU_MURABITO)) then
        return TRUE
    end
    local damage_part = env(ESD_ENV_DS3GetPartGroup)
    if damage_part == 1 then
        if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_COBRA_ASSASSIN) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SANDWORM) or TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_MOTHER_DORAGON) then
            return TRUE
        elseif TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_FULL_ARMOR_BEAST) then
            local damage_level = env(ESD_ENV_GetDamageLevel)
            if damage_level >= DAMAGE_LEVEL_MIDDLE and damage_level ~= DAMAGE_LEVEL_PUSH and damage_level ~= DAMAGE_LEVEL_MINIMUM then
                return TRUE
            end
        end
    elseif damage_part == 7 then
        if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_TINDALOS_SP_DAMAGE) then
            return TRUE
        end
        if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_HUNGRY_JACK) then
            return TRUE
        end
    end
    return FALSE
    
end

IsSpDamage = f6424_local0
f6424_local0 = function (pre_sp_damage)
    if IsSpDamage(pre_sp_damage) == TRUE and TRUE == IsSpDamageAllowed() then
        Replanning()
        act(141, DAMAGE_FLAG_LARGE)
        local index = GetRandomIndex(ANIME_ID_SPECIAL_DAMAGE_RANDOM, 1, 2, 1)
        SetVariable("IndexDamageRandom", index)
        Fire("W_DamageSpecial")
        return TRUE
    end
    if pre_sp_damage == SP_DAMAGE_FAT_BREAK and TRUE == IsSpDamageAllowed() then
        Replanning()
        act(141, DAMAGE_FLAG_LARGE)
        local dir = env(ESD_ENV_GetReceivedDamageDirection)
        local event = "W_Event20000"
        if dir == DIRECTION_BACK then
            event = "W_Event20001"
        elseif dir == DIRECTION_LEFT then
            event = "W_Event20002"
        elseif dir == DIRECTION_RIGHT then
            event = "W_Event20003"
        end
        Fire(event)
        return TRUE
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ROCK_LIZARD) and TRUE == env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_KICK) and TRUE == IsSpDamageAllowed() then
        act(125)
        Replanning()
        act(141, DAMAGE_FLAG_LARGE)
        Fire("W_Event20000")
        return TRUE
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_GARGOYLE_AT_CASTLE) and TRUE == IsSpDamageAllowed() then
        Replanning()
        act(141, DAMAGE_FLAG_LARGE)
        Fire("W_Event20010")
        return TRUE
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SKELETON_KNIGHT) and 2 == env(ESD_ENV_GetPhysicalAttribute) then
        local damage_level = env(ESD_ENV_GetDamageLevel)
        if (damage_level == DAMAGE_LEVEL_MIDDLE or damage_level == DAMAGE_LEVEL_LARGE or damage_level == DAMAGE_LEVEL_SMALL_BLOW or damage_level == DAMAGE_LEVEL_LARGE_BLOW) and TRUE == IsSpDamageAllowed() then
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            local dir = env(ESD_ENV_GetReceivedDamageDirection)
            local event = "W_Event20010"
            if dir == DIRECTION_BACK then
                event = "W_Event20011"
            elseif dir == DIRECTION_LEFT then
                event = "W_Event20012"
            elseif dir == DIRECTION_RIGHT then
                event = "W_Event20013"
            end
            Fire(event)
            return TRUE
        end
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_HAE_TATAKI) then
        local damage_level = env(ESD_ENV_GetDamageLevel)
        if damage_level ~= DAMAGE_LEVEL_NONE and damage_level ~= DAMAGE_LEVEL_FLING and TRUE == IsSpDamageAllowed() then
            act(125)
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            Fire("W_DamageSpecial")
            return TRUE
        end
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_KARASUKISI_COUNTER_R) then
        local damage_level = env(ESD_ENV_GetDamageLevel)
        local damage_type = env(ESD_ENV_GetReceivedDamageType)
        local is_kick = env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_KICK)
        if damage_level ~= DAMAGE_LEVEL_NONE and damage_level ~= DAMAGE_LEVEL_MINIMUM and is_kick == FALSE and damage_type ~= DAMAGE_TYPE_GUARDED_BOUND_ENEMY1 and damage_type ~= DAMAGE_TYPE_GUARDED_BOUND_ENEMY2 and TRUE == IsSpDamageAllowed() then
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            Fire("W_Event20002")
            return TRUE
        end
    end
    if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_KARASUKISI_COUNTER_L) then
        local damage_level = env(ESD_ENV_GetDamageLevel)
        local damage_type = env(ESD_ENV_GetReceivedDamageType)
        local is_kick = env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_KICK)
        if damage_level ~= DAMAGE_LEVEL_NONE and damage_level ~= DAMAGE_LEVEL_MINIMUM and is_kick == FALSE and damage_type ~= DAMAGE_TYPE_GUARDED_BOUND_ENEMY1 and damage_type ~= DAMAGE_TYPE_GUARDED_BOUND_ENEMY2 and TRUE == IsSpDamageAllowed() then
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            Fire("W_Event20003")
            return TRUE
        end
    end
    return FALSE
    
end

ExecSpDamage = f6424_local0
f6424_local0 = function (damage_level, is_damaged)
    if (damage_level == DAMAGE_LEVEL_NONE or damage_level == DAMAGE_LEVEL_MINIMUM) and is_damaged == TRUE then
        if TRUE == env(ESD_ENV_IsPartDamageAdditiveBlendInvalid) then
            return TRUE
        end
        if TRUE == env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_MAGMA) then
            return FALSE
        end
        if FALSE == IsExistAnime(ANIME_ID_NO_ADD) then
            return TRUE
        end
        if TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_VARIANT_YUPA) and TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_BLUE_LIGHTNING) then
            return FALSE
        end
        local damage_part = env(ESD_ENV_DS3GetPartGroup)
        if damage_part > 0 then
            local anim_id = 0
            if damage_part > 8 then
                anim_id = ANIME_ID_PART9_DAMAGE + damage_part - 9
            else
                anim_id = ANIME_ID_PART1_DAMAGE + (damage_part - 1) * 10
            end
            if IsExistAnime(anim_id) == TRUE then
                SetVariable("BlendPart" .. damage_part, 1)
                Fire("W_PartBlend_Add" .. damage_part)
                return TRUE
            end
        end
        if TRUE == IsExistAnime(ANIME_ID_ADD_BLEND_FRONT) then
            local damage_direction = env(ESD_ENV_GetReceivedDamageDirection)
            local offsetanim = GetDamageDirectionOffset(damage_direction)
            local str = "W_SABlend_Add_Front"
            if damage_direction == DIRECTION_FORWARD then

            elseif damage_direction == DIRECTION_LEFT then
                str = "W_SABlend_Add_Left"
            elseif damage_direction == DIRECTION_RIGHT then
                str = "W_SABlend_Add_Right"
            elseif damage_direction == DIRECTION_BACK then
                str = "W_SABlend_Add_Back"
            end
            if IsExistAnime(ANIME_ID_ADD_BLEND_FRONT + offsetanim) == TRUE then
                SetVariable("BlendSA", 1)
                Fire(str)
            else
                SetVariable("BlendSA", 1)
                Fire("W_SABlend_Add_Front")
            end
            return TRUE
        end
        return TRUE
    end
    return FALSE
    
end

ExecNoSyncAddDamage = f6424_local0
f6424_local0 = function (damage_level)
    if env(ESD_ENV_HasBrokenSA) == TRUE then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_FULL_ARMOR_BEAST) == TRUE then
            return FALSE
        end
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_WOLFKING) == TRUE then
            return FALSE
        end
        local dir = GetDirOfPlayableDamage(ANIME_ID_SA_BREAK, FALSE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            act(141, DAMAGE_FLAG_LARGE)
            Replanning()
            Fire("W_SABreak")
            return TRUE
        else
            if TRUE == ExecDamageDefault(DAMAGE_LEVEL_LARGE) then
                return TRUE
            end
            if TRUE == ExecDamageDefault(DAMAGE_LEVEL_MIDDLE) then
                return TRUE
            end
            if TRUE == ExecDamageDefault(DAMAGE_LEVEL_SMALL) then
                return TRUE
            end
        end
    end
    return FALSE
    
end

ExecSaBreakDamage = f6424_local0
f6424_local0 = function (damage_type)
    if damage_type == DAMAGE_TYPE_GUARD then
        local guard_damage = env(ESD_ENV_GetGuardLevelAction)
        if guard_damage == GUARD_LEVEL_SMALL then
            act(141, DAMAGE_FLAG_GUARD_SMALL)
            if GetStaminaRatio() < 0.4000000059604645 and IsExistAnime(ANIME_ID_GUARD_DAMAGE_SMALL_LOW) == TRUE then
                Fire("W_GuardDamageSmallLowStamina")
                return TRUE
            end
            Fire("W_GuardDamageSmall")
            return TRUE
        elseif guard_damage == GUARD_LEVEL_LARGE then
            act(141, DAMAGE_FLAG_GUARD_LARGE)
            if GetStaminaRatio() < 0.4000000059604645 and IsExistAnime(ANIME_ID_GUARD_DAMAGE_LARGE_LOW) == TRUE then
                Fire("W_GuardDamageLargeLowStamina")
                return TRUE
            end
            Fire("W_GuardDamageLarge")
            return TRUE
        elseif guard_damage == GUARD_LEVEL_EXLARGE then
            act(141, DAMAGE_FLAG_GUARD_EXLARGE)
            Fire("W_GuardDamageLarge")
            return TRUE
        else
            return FALSE
        end
    elseif damage_type == DAMAGE_TYPE_GUARD_BREAK then
        Replanning()
        act(141, DAMAGE_FLAG_GUARD_BREAK)
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA) == TRUE then
            local damage_direction = env(ESD_ENV_GetReceivedDamageDirection)
            if damage_direction == DIRECTION_FORWARD then
                Fire("W_Event20000")
            elseif damage_direction == DIRECTION_LEFT then
                Fire("W_Event20002")
            elseif damage_direction == DIRECTION_RIGHT then
                Fire("W_Event20003")
            else
                Fire("W_Event20001")
            end
        else
            Fire("W_GuardBreak")
        end
        return TRUE
    end
    return FALSE
    
end

ExecGuardBlock = f6424_local0
f6424_local0 = function (damage_type)
    if damage_type == DAMAGE_TYPE_PARRY or damage_type >= DAMAGE_TYPE_PARRY_ENEMY1 and damage_type <= DAMAGE_TYPE_PARRY_ENEMY3 then
        if damage_type == DAMAGE_TYPE_PARRY_ENEMY2 then
            if IsExistAnime(ANIME_ID_PARRY_DAMAGE_ENEMY2) == TRUE then
                Fire("W_DamageParryEnemy2")
            else
                Fire("W_DamageParryEnemy1")
            end
        elseif IsExistAnime(ANIME_ID_PARRY_DAMAGE_ENEMY1) == TRUE then
            Fire("W_DamageParryEnemy1")
        else
            Fire("W_DamageParryEnemy2")
        end
        Replanning()
        return TRUE
    elseif damage_type >= DAMAGE_TYPE_WALL_ENEMY1 and damage_type <= DAMAGE_TYPE_WALL_ENEMY3 then
        if damage_type == DAMAGE_TYPE_WALL_ENEMY2 then
            if IsExistAnime(ANIME_ID_ATTACK_BOUND_ENEMY2) == TRUE then
                Replanning()
                Fire("W_AttackBoundEnemy2")
                return TRUE
            end
        elseif IsExistAnime(ANIME_ID_ATTACK_BOUND_ENEMY1) == TRUE then
            Replanning()
            Fire("W_AttackBoundEnemy1")
            return TRUE
        end
    elseif damage_type >= DAMAGE_TYPE_GUARDED_BOUND_ENEMY1 and damage_type <= DAMAGE_TYPE_GUARDED_BOUND_ENEMY3 then
        if damage_type == DAMAGE_TYPE_GUARDED_BOUND_ENEMY2 then
            if IsExistAnime(ANIME_ID_ATTACK_BOUND_ENEMY2) == TRUE then
                Replanning()
                Fire("W_AttackBoundEnemy2")
                return TRUE
            end
        elseif IsExistAnime(ANIME_ID_ATTACK_BOUND_ENEMY1) == TRUE then
            Replanning()
            Fire("W_AttackBoundEnemy1")
            return TRUE
        end
    end
    return FALSE
    
end

ExecTypeDamage = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_VARIANT_YUPA_NO_WEAKDAMAGE) == TRUE then
        return FALSE
    end
    if env(ESD_ENV_GetIsWeakPoint) == TRUE then
        local dir = GetDirOfPlayableDamage(ANIME_ID_DAMAGE_WEAK, FALSE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            act(141, DAMAGE_FLAG_WEAK)
            Replanning()
            Fire("W_DamageWeak")
            return TRUE
        end
    end
    return FALSE
    
end

ExecWeakDamage = f6424_local0
f6424_local0 = function (damage_level)
    if damage_level == DAMAGE_LEVEL_FLING then
        if IsExistAnime(ANIME_ID_DAMAGE_FLING) == TRUE then
            act(141, DAMAGE_FLAG_FLING)
            Replanning()
            Fire("W_DamageFling")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_UPPER then
        if IsExistAnime(ANIME_ID_DAMAGE_UPPER) == TRUE then
            act(141, DAMAGE_FLAG_UPPER)
            Replanning()
            Fire("W_DamageUpper")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_SMALL_BLOW or damage_level == DAMAGE_LEVEL_EX_BLAST or damage_level == DAMAGE_LEVEL_BREATH then
        if damage_level == DAMAGE_LEVEL_SMALL_BLOW and TRUE == env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_UNDEAD_DOG) and env(ESD_ENV_GetSpecialAttribute) == DAMAGE_ELEMENT_FIRE then
            return FALSE
        end
        if IsExistAnime(ANIME_ID_DAMAGE_SMALL_BLOW) == TRUE then
            act(141, DAMAGE_FLAG_SMALL_BLOW)
            act(125)
            Replanning()
            Fire("W_DamageSmallBlow")
            return TRUE
        elseif IsExistAnime(ANIME_ID_DAMAGE_LARGE_BLOW) == TRUE then
            act(141, DAMAGE_FLAG_LARGE_BLOW)
            act(125)
            Replanning()
            Fire("W_DamageLargeBlow")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_LARGE_BLOW then
        if IsExistAnime(ANIME_ID_DAMAGE_LARGE_BLOW) == TRUE then
            act(141, DAMAGE_FLAG_LARGE_BLOW)
            act(125)
            Replanning()
            Fire("W_DamageLargeBlow")
            return TRUE
        elseif IsExistAnime(ANIME_ID_DAMAGE_SMALL_BLOW) == TRUE then
            act(141, DAMAGE_FLAG_SMALL_BLOW)
            act(125)
            Replanning()
            Fire("W_DamageSmallBlow")
            return TRUE
        end
    end
    return FALSE
    
end

ExecDamageExLarge = f6424_local0
f6424_local0 = function (damage_level)
    if damage_level == DAMAGE_LEVEL_SMALL then
        local dir = GetDirOfPlayableDamage(ANIME_ID_DAMAGE_SMALL, TRUE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            SetVariable("DamageDefaultState", 1)
            act(141, DAMAGE_FLAG_SMALL)
            ExecSyncAddDamage(damage_level)
            Replanning()
            Fire("W_DamageSmall")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_MIDDLE then
        local dir = GetDirOfPlayableDamage(ANIME_ID_DAMAGE_MIDDLE, TRUE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            SetVariable("DamageDefaultState", 2)
            act(141, DAMAGE_FLAG_MIDDlE)
            ExecSyncAddDamage(damage_level)
            Replanning()
            Fire("W_DamageMiddle")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_LARGE then
        local dir = GetDirOfPlayableDamage(ANIME_ID_DAMAGE_LARGE, TRUE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            SetVariable("DamageDefaultState", 3)
            act(141, DAMAGE_FLAG_LARGE)
            ExecSyncAddDamage(damage_level)
            Replanning()
            Fire("W_DamageLarge")
            return TRUE
        end
    elseif damage_level == DAMAGE_LEVEL_PUSH then
        local dir = GetDirOfPlayableDamage(ANIME_ID_DAMAGE_PUSH, FALSE)
        if dir ~= INVALID then
            SetVariable("IndexDamageDirection", dir)
            act(141, DAMAGE_FLAG_PUSH)
            Replanning()
            Fire("W_DamagePush")
            return TRUE
        end
    end
    return FALSE
    
end

ExecDamageDefault = f6424_local0
f6424_local0 = function (id, check_atk_dir)
    local damage_direction = env(ESD_ENV_GetReceivedDamageDirection)
    if check_atk_dir == TRUE and damage_direction == DIRECTION_FORWARD then
        local dir_real = GetRealDir()
        if dir_real == LEFT_ADD then
            if IsExistAnime(id + DIRECTION_FRONTLEFT) == TRUE then
                return DIRECTION_FRONTLEFT
            end
        elseif dir_real == RIGHT_ADD and IsExistAnime(id + DIRECTION_FRONTRIGHT) == TRUE then
            return DIRECTION_FRONTRIGHT
        end
    end
    local offset = GetDamageDirectionOffset(damage_direction)
    local id_with_direction = id + offset
    if IsExistAnime(id_with_direction) == TRUE then
        return damage_direction
    elseif IsExistAnime(id) == TRUE then
        return DIRECTION_FORWARD
    end
    return INVALID
    
end

GetDirOfPlayableDamage = f6424_local0
f6424_local0 = function (damage_level)
    if env(ESD_ENV_IsPartDamageAdditiveBlendInvalid) == TRUE then
        return 
    end
    if IsExistAnime(ANIME_ID_NO_ADD) == FALSE then
        return 
    end
    local f6462_local0 = env(ESD_ENV_GetSpecialAttribute)
    if f6462_local0 == DAMAGE_ELEMENT_FIRE then
        local buff = {-1}
        if damage_level == DAMAGE_LEVEL_SMALL then
            buff[1] = ANIME_ID_BLEND_DAMAGE_FIRE_SMALL
            buff[2] = ANIME_ID_BLEND_DAMAGE_FIRE_MIDDLE
        elseif damage_level == DAMAGE_LEVEL_MIDDLE or damage_level == DAMAGE_LEVEL_LARGE then
            buff[1] = ANIME_ID_BLEND_DAMAGE_FIRE_MIDDLE
        end
        if buff[1] >= 0 then
            local anim_id = -1
            for , 1, #buff do
                if IsExistAnime(buff[f6462_local1]) == TRUE then
                    anim_id = buff[f6462_local1]
                    break
                end
            end
            if anim_id >= 0 then
                local event = "W_FireSmallDamageBlend_Add"
                local f6462_local2 = ANIME_ID_BLEND_DAMAGE_FIRE_MIDDLE
                if anim_id == f6462_local2 then
                    event = "W_FireMiddleDamageBlend_Add"
                end
                f6462_local2 = SetVariable
                f6462_local3 = "BlendDamageFire"
                f6462_local2(f6462_local3, 1)
                f6462_local2 = GetRandomIndex
                f6462_local3 = anim_id
                local index = f6462_local2(f6462_local3, 1, 2, 1)
                f6462_local3 = SetVariable
                f6462_local3("IndexFireDamageVariation", index)
                f6462_local3 = Fire
                f6462_local3(event)
                return 
            end
        end
    end
    local buff = {-1}
    if damage_level == DAMAGE_LEVEL_SMALL then
        buff[1] = ANIME_ID_BLEND_DAMAGE_SMALL_FRONT
    elseif damage_level == DAMAGE_LEVEL_MIDDLE then
        buff[1] = ANIME_ID_BLEND_DAMAGE_MIDDLE_FRONT
        buff[2] = ANIME_ID_BLEND_DAMAGE_SMALL_FRONT
    elseif damage_level == DAMAGE_LEVEL_LARGE then
        buff[1] = ANIME_ID_BLEND_DAMAGE_LARGE_FRONT
        buff[2] = ANIME_ID_BLEND_DAMAGE_MIDDLE_FRONT
        buff[3] = ANIME_ID_BLEND_DAMAGE_SMALL_FRONT
    end
    if buff[1] >= 0 then
        local dir = GetRealDir()
        for anim_id = -1, 1, #buff do
            if IsExistAnime(buff[f6462_local2] + dir) == TRUE then
                local anim_id = buff[f6462_local2]
                break
            end
        end
        if anim_id >= 0 then
            local event = "W_DirDamageSmall"
            local f6462_local3 = ANIME_ID_BLEND_DAMAGE_MIDDLE_FRONT
            if anim_id == f6462_local3 then
                event = "W_DirDamageMiddle"
            else
                f6462_local3 = ANIME_ID_BLEND_DAMAGE_LARGE_FRONT
                if anim_id == f6462_local3 then
                    event = "W_DirDamageLarge"
                end
            end
            f6462_local3 = {}
            f6462_local4 = "Front_Add"
            local f6462_local5 = "Back_Add"
            local f6462_local6 = "Left_Add"
            local f6462_local7 = "Right_Add"
            local f6462_local8 = "FrontUp_Add"
            local f6462_local9 = "FrontDown_Add"
            f6462_local3[1] = f6462_local4
            f6462_local3[2] = f6462_local5
            f6462_local3[3] = f6462_local6
            f6462_local3[4] = f6462_local7
            f6462_local3[5] = f6462_local8
            f6462_local3[6] = f6462_local9
            f6462_local4 = SetVariable
            f6462_local4("BlendDamageDir", 1)
            f6462_local4 = Fire
            f6462_local4(event .. f6462_local3[dir + 1])
            return 
        end
    end
    
end

ExecSyncAddDamage = f6424_local0
f6424_local0 = function ()
    local pos_dir = env(ESD_ENV_GetReceivedDamageDirection)
    local atk_dir = env(ESD_ENV_DS3GetAtkDirection)
    local real_dir = FRONT_ADD
    if atk_dir == ATTACK_DIR_FRONT then
        if pos_dir == DIRECTION_FORWARD then
            real_dir = FRONT_ADD
        elseif pos_dir == DIRECTION_RIGHT then
            real_dir = RIGHT_ADD
        elseif pos_dir == DIRECTION_BACK then
            real_dir = BACK_ADD
        elseif pos_dir == DIRECTION_LEFT then
            real_dir = LEFT_ADD
        end
    elseif atk_dir == ATTACK_DIR_UP then
        if pos_dir == DIRECTION_FORWARD then
            real_dir = FRONTUP_ADD
        elseif pos_dir == DIRECTION_RIGHT then
            real_dir = RIGHT_ADD
        elseif pos_dir == DIRECTION_BACK then
            real_dir = BACK_ADD
        elseif pos_dir == DIRECTION_LEFT then
            real_dir = LEFT_ADD
        end
    elseif atk_dir == ATTACK_DIR_DOWN then
        if pos_dir == DIRECTION_FORWARD then
            real_dir = FRONTDOWN_ADD
        elseif pos_dir == DIRECTION_RIGHT then
            real_dir = RIGHT_ADD
        elseif pos_dir == DIRECTION_BACK then
            real_dir = BACK_ADD
        elseif pos_dir == DIRECTION_LEFT then
            real_dir = LEFT_ADD
        end
    elseif atk_dir == ATTACK_DIR_LEFT then
        if pos_dir == DIRECTION_FORWARD then
            real_dir = RIGHT_ADD
        elseif pos_dir == DIRECTION_RIGHT then
            real_dir = BACK_ADD
        elseif pos_dir == DIRECTION_BACK then
            real_dir = LEFT_ADD
        elseif pos_dir == DIRECTION_LEFT then
            real_dir = FRONT_ADD
        end
    elseif atk_dir == ATTACK_DIR_RIGHT then
        if pos_dir == DIRECTION_FORWARD then
            real_dir = LEFT_ADD
        elseif pos_dir == DIRECTION_LEFT then
            real_dir = BACK_ADD
        elseif pos_dir == DIRECTION_BACK then
            real_dir = RIGHT_ADD
        elseif pos_dir == DIRECTION_RIGHT then
            real_dir = FRONT_ADD
        end
    end
    return real_dir
    
end

GetRealDir = f6424_local0
f6424_local0 = function (is_weak, ignore_guard_block)
    local damage_level = env(ESD_ENV_GetDamageLevel)
    local damage_type = env(ESD_ENV_GetReceivedDamageType)
    local is_damaged = env(ESD_ENV_HasReceivedAnyDamage)
    if damage_level == DAMAGE_LEVEL_MINIMUM and env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_ROLLING) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ROLLING_PUSH) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_ROLLING_PUSH) == FALSE then
        damage_level = DAMAGE_LEVEL_PUSH
    end
    local pre_sp_damage = SP_DAMAGE_NONE
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_SLEEP) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_MIMIC) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DISABLE_SLEEP) == FALSE then
        pre_sp_damage = SP_DAMAGE_MIMIC
    end
    if env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_ITEM_PARRY) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_KING_OF_STORM) == TRUE then
        pre_sp_damage = SP_DAMAGE_ITEM_PARRY
    end
    if env(ESD_ENV_GetBehaviorID, BEH_IDENTIFIER_FAT_BREAK) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ROLLING_PUSH) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_IGNORE_ROLLING_PUSH) == FALSE then
        pre_sp_damage = SP_DAMAGE_FAT_BREAK
    end
    if is_damaged == FALSE and (damage_level == DAMAGE_LEVEL_NONE or damage_level == DAMAGE_LEVEL_MINIMUM) and (damage_type == DAMAGE_TYPE_NONE or damage_type == DAMAGE_TYPE_WEAK_FRAME) and pre_sp_damage == SP_DAMAGE_NONE then
        return FALSE
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_HALLECK) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_STORMRULER) == TRUE and env(ESD_ENV_DS3GetPartGroup) == 6 then
        act(2002, SP_EFFECT_HALLECK_BREAK)
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSUMUSUME) == TRUE and TRUE == IsSpDamageAllowed() then
        Replanning()
        act(141, DAMAGE_FLAG_LARGE)
        Fire("W_DamageSpecial")
        return TRUE
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_BLACKKNIGHT) == TRUE then
        local DamageType = env(ESD_ENV_GetReceivedDamageType)
        if TRUE == IsSpDamageAllowed() and DamageType ~= DAMAGE_TYPE_PARRY_ENEMY1 and DamageType ~= DAMAGE_TYPE_PARRY_ENEMY2 then
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            Fire("W_Event20000")
            return TRUE
        end
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_MIYAKONOMOUJA_SEISYOKUSYA_IKARING) == TRUE then
        local damage_level = env(ESD_ENV_GetDamageLevel)
        if damage_level ~= DAMAGE_LEVEL_NONE and damage_level ~= DAMAGE_LEVEL_SMALL and damage_level ~= DAMAGE_LEVEL_MINIMUM and damage_level ~= DAMAGE_LEVEL_PUSH and TRUE == IsSpDamageAllowed() then
            Replanning()
            act(141, DAMAGE_FLAG_LARGE)
            Fire("W_Event20010")
            return TRUE
        end
    end
    SetVariable("BlendDamageDir", 0)
    SetVariable("BlendDamageFire", 0)
    if ignore_guard_block == TRUE and damage_type == DAMAGE_TYPE_GUARD then
        return FALSE
    end
    if ExecGuardBlock(damage_type) == TRUE then
        return TRUE
    end
    if ExecDamageExLarge(damage_level) == TRUE then
        return TRUE
    end
    if pre_sp_damage == SP_DAMAGE_MIMIC then
        Fire("W_Event20000")
        return TRUE
    end
    if env(ESD_ENV_DS3IsDamageMotionOff) == FALSE then
        if ExecSpDamage(pre_sp_damage) == TRUE then
            return TRUE
        end
        if is_weak == FALSE and TRUE == ExecWeakDamage() then
            return TRUE
        end
        if ExecSaBreakDamage(damage_level) == TRUE then
            return TRUE
        end
    end
    if ExecTypeDamage(damage_type) == TRUE then
        return TRUE
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_FULL_ARMOR_BEAST) == TRUE then
        damage_level = DAMAGE_LEVEL_NONE
    end
    if ExecNoSyncAddDamage(damage_level, is_damaged) == TRUE then
        return FALSE
    end
    if ExecDamageDefault(damage_level) == TRUE then
        return TRUE
    end
    if damage_level ~= DAMAGE_LEVEL_NONE and damage_level ~= DAMAGE_LEVEL_MINIMUM and TRUE == ExecDamageDefault(DAMAGE_LEVEL_MIDDLE) then
        return TRUE
    end
    return FALSE
    
end

ExecDamage = f6424_local0
f6424_local0 = function ()
    local damage_level = env(ESD_ENV_GetDamageLevel)
    local death_type = DEATH_TYPE_DEFAULT
    if damage_level == DAMAGE_LEVEL_LARGE_BLOW or damage_level == DAMAGE_LEVEL_SMALL_BLOW or damage_level == DAMAGE_LEVEL_EX_BLAST or damage_level == DAMAGE_LEVEL_BREATH then
        death_type = DEATH_TYPE_BLAST
        if damage_level == DAMAGE_LEVEL_SMALL_BLOW and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_UNDEAD_DOG) == TRUE and env(ESD_ENV_GetSpecialAttribute) == DAMAGE_ELEMENT_FIRE then
            death_type = DEATH_TYPE_FIRE
        end
    elseif damage_level == DAMAGE_LEVEL_UPPER then
        death_type = DEATH_TYPE_UPPER
    elseif damage_level == DAMAGE_LEVEL_FLING then
        death_type = DEATH_TYPE_FLING
    elseif env(ESD_ENV_GetIsWeakPoint) == TRUE then
        death_type = DEATH_TYPE_WEAK
    elseif env(ESD_ENV_GetSpecialAttribute) == DAMAGE_ELEMENT_FIRE then
        death_type = DEATH_TYPE_FIRE
    end
    return death_type
    
end

GetDeathType = f6424_local0
f6424_local0 = function (damage_direction)
    local offset = 1
    if damage_direction == 0 then
        offset = 2
    elseif damage_direction == 1 then
        offset = 3
    elseif damage_direction == 2 then
        offset = 0
    end
    return offset
    
end

GetDamageDirectionOffset = f6424_local0
f6424_local0 = function (base_anim_id, min, max, offset)
    local num = 0
    for ret = 0, min, max do
        local anim_offset = f6467_local0 * offset
        local anim_id = base_anim_id + anim_offset
        if IsExistAnime(anim_id) == FALSE then
            break
        end
        num = num + 1
    end
    if 0 < num then
        local f6467_local0 = env
        local f6467_local1 = 1003
        f6467_local2 = 0
        f6467_local0 = f6467_local0(f6467_local1, f6467_local2, num)
        local ret = f6467_local0
    end
    return ret
    
end

GetRandomIndex = f6424_local0
f6424_local0 = function (move_speed_level)
    local move_angle = GetVariable("MoveAngle")
    if math.abs(move_angle) <= 45 then
        if move_speed_level > 0.75 then
            return MOVE_TYPE_RUN
        else
            return MOVE_TYPE_WALK_FRONT
        end
    elseif move_angle >= 45 and move_angle <= 135 then
        return MOVE_TYPE_WALK_RIGHT
    elseif move_angle >= -135 and move_angle <= -45 then
        return MOVE_TYPE_WALK_LEFT
    else
        return MOVE_TYPE_WALK_BACK
    end
    
end

GetMoveDir = f6424_local0
f6424_local0 = function (move_type, is_on_cancel)
    local move_speed_level = GetVariable("MoveSpeedLevel")
    if move_speed_level <= 0 then
        return FALSE
    end
    if is_on_cancel == TRUE and FALSE == env(ESD_ENV_DS3IsMoveCancelPossible) then
        return FALSE
    end
    if TRUE == env(ESD_ENV_IsMovingLaterally) then
        if move_type == MOVE_TYPE_PARALLEL then
            return FALSE
        end
        Fire("W_ParallelMove")
        return TRUE
    end
    local move_dir = GetMoveDir(move_speed_level)
    if move_type == move_dir then
        return FALSE
    end
    local ai_rec = env(ESD_ENV_GetAITargetAwareState)
    local ai_state = AI_STATE_DEFAULT
    local f6469_local0 = AI_RECOGNITION_NONE
    if f6469_local0 < ai_rec then
        ai_state = AI_STATE_BATTLE
    end
    local event = ""
    local move_table = {}
    local j = move_dir
    local action_type = env(ESD_ENV_GetAIActionType)
    if action_type == ACTION_TYPE_GUARD then
        move_table[1] = move_table_guard[j]
        if move_dir == MOVE_TYPE_RUN then
            move_table[2] = move_table_guard[MOVE_TYPE_WALK_FRONT]
            move_table[3] = move_table_battle[j]
            move_table[4] = move_table_battle[MOVE_TYPE_WALK_FRONT]
        else
            move_table[2] = move_table_battle[j]
        end
    elseif action_type == ACTION_TYPE_PARRY then
        move_table[1] = move_table_parry[j]
        if move_dir == MOVE_TYPE_RUN then
            move_table[2] = move_table_parry[MOVE_TYPE_WALK_FRONT]
            move_table[3] = move_table_battle[j]
            move_table[4] = move_table_battle[MOVE_TYPE_WALK_FRONT]
        else
            move_table[2] = move_table_battle[j]
        end
    elseif ai_state == AI_STATE_BATTLE then
        move_table[1] = move_table_battle[j]
        if move_dir == MOVE_TYPE_RUN then
            move_table[2] = move_table_battle[MOVE_TYPE_WALK_FRONT]
        end
    elseif move_dir == MOVE_TYPE_RUN then
        move_table[1] = move_table_default[j]
        move_table[2] = move_table_battle[j]
        move_table[3] = move_table_default[MOVE_TYPE_WALK_FRONT]
        move_table[4] = move_table_battle[MOVE_TYPE_WALK_FRONT]
    else
        move_table[1] = move_table_default[MOVE_TYPE_WALK_FRONT]
        move_table[2] = move_table_battle[MOVE_TYPE_WALK_FRONT]
    end
    local hit_move_type = MOVE_TYPE_NONE
    for , 1, #move_table do
        if IsExistAnime(move_table[f6469_local1][1]) == TRUE then
            event = move_table[f6469_local1][2]
            hit_move_type = move_table[f6469_local1][3]
            break
        end
    end
    local f6469_local1 = MOVE_TYPE_NONE
    if hit_move_type == f6469_local1 then
        f6469_local1 = FALSE
        return f6469_local1
    end
    if hit_move_type == move_type then
        f6469_local1 = FALSE
        return f6469_local1
    end
    f6469_local1 = SetIdleType
    local f6469_local2 = ai_state
    f6469_local1(f6469_local2)
    f6469_local1 = Fire
    f6469_local2 = event
    f6469_local1(f6469_local2)
    f6469_local1 = TRUE
    return f6469_local1
    
end

ExecMove = f6424_local0
f6424_local0 = function ()
    local move_speed_level = GetVariable("MoveSpeedLevel")
    if move_speed_level > 0 then
        return FALSE
    end
    local action_type = env(ESD_ENV_GetAIActionType)
    local event = "W_Idle"
    if action_type == ACTION_TYPE_GUARD then
        event = "W_GuardIdle"
    elseif action_type == ACTION_TYPE_PARRY then
        event = "W_ParryIdle"
    end
    Fire(event)
    return TRUE
    
end

ExecStop = f6424_local0
f6424_local0 = function (attack, defense)
    act(102, attack)
    act(103, defense)
    
end

SetThrowFlag = f6424_local0
f6424_local0 = function (angle)
    local front, back, left, right = false
    if math.abs(angle) >= 135 then
        back = true
    elseif angle > 45 then
        right = true
    elseif angle < -45 then
        left = true
    else
        front = true
    end
    SetVariable("ParallelMoveTaeFront", front)
    SetVariable("ParallelMoveTaeBack", back)
    SetVariable("ParallelMoveTaeRight", right)
    SetVariable("ParallelMoveTaeLeft", left)
    
end

SetParallelMoveTae = f6424_local0
f6424_local0 = function ()
    return env(ESD_ENV_GetStamina) / env(ESD_ENV_DS3GetMaxStamina)
    
end

GetStaminaRatio = f6424_local0
f6424_local0 = function ()
    SetThrowFlag(THROW_INVALID, THROW_INVALID)
    
end

SetThrowInvalid = f6424_local0
f6424_local0 = function ()
    SetThrowFlag(THROW_DEFAULT, THROW_INVALID)
    
end

SetThrowDefInvalid = f6424_local0
f6424_local0 = function (is_damage_state, is_weak, ignore_guard_block)
    if env(ESD_ENV_DS3HasThrowRequest) == TRUE then
        return TRUE
    end
    if TRUE == ExecDeath() then
        return TRUE
    end
    if env(ESD_ENV_DS3CheckForEventAnimPlaybackRequest) == TRUE then
        return TRUE
    end
    if ExecDamage(is_weak, ignore_guard_block) == TRUE then
        return TRUE
    end
    if ExecFallStart(is_damage_state) == TRUE then
        return TRUE
    end
    return FALSE
    
end

ExecPassiveTransition = f6424_local0
f6424_local0 = function (is_on_cancel, style, move_type, enable_turn)
    if is_on_cancel == TRUE then
        if ExecAICancelAction(style) == TRUE then
            return TRUE
        end
    elseif ExecAIAction(style) == TRUE then
        return TRUE
    end
    if enable_turn == TRUE and ExecTurn(is_on_cancel) == TRUE then
        return TRUE
    end
    if ExecMove(move_type, is_on_cancel) == TRUE then
        return TRUE
    end
    return FALSE
    
end

ExecActiveTransition = f6424_local0
f6424_local0 = function (style)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAILadder() then
        return TRUE
    end
    if ExecActiveTransition(FALSE, style, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAIStateChange() then
        return TRUE
    end
    return FALSE
    
end

IdleCommonFunction = f6424_local0
f6424_local0 = function (style, move_type)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAILadder() then
        return TRUE
    end
    if ExecActiveTransition(FALSE, style, move_type, FALSE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAIStateChange() then
        return TRUE
    end
    if TRUE == ExecStop() then
        return TRUE
    end
    return FALSE
    
end

MoveCommonFunction = f6424_local0
f6424_local0 = function (style)
    act(9104)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAILadder() then
        return TRUE
    end
    if ExecActiveTransition(TRUE, style, MOVE_TYPE_NONE, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

TurnCommonFunction = f6424_local0
f6424_local0 = function (style)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, style, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

TransStyleCommonFunction = f6424_local0
f6424_local0 = function ()
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if TRUE == ExecAILadder() then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

TransIdleCommonFunction = f6424_local0
f6424_local0 = function ()
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

GenerateCommonFunction = f6424_local0
f6424_local0 = function (action_number)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

StepCommonFunction = f6424_local0
f6424_local0 = function (action_number, style, ignore_guard_block)
    if ExecPassiveTransition(FALSE, FALSE, ignore_guard_block) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, style, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

AttackCommonFunction = f6424_local0
f6424_local0 = function (style, is_weak)
    if ExecPassiveTransition(TRUE, is_weak, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, style, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

DamageCommonFunction = f6424_local0
f6424_local0 = function (id)
    act(9102)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

IdleUniqueCommonFunction = f6424_local0
f6424_local0 = function ()
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LandCommonFunction = f6424_local0
f6424_local0 = function (fall_type)
    if ExecLand(fall_type) == TRUE then
        return TRUE
    end
    return FALSE
    
end

FallCommonFunction = f6424_local0
f6424_local0 = function ()
    act(9102)
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

EventCommonFunction = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_IsThrowing) == TRUE then
        if env(ESD_ENV_DS3IsMoveCancelPossible) == TRUE then
            act(139)
        end
    else
        if TRUE == ExecDeath() then
            return TRUE
        end
        if env(ESD_ENV_DS3CheckForEventAnimPlaybackRequest) == TRUE then
            return TRUE
        end
        if TRUE == ExecDamage(FALSE, FALSE) then
            return TRUE
        end
    end
    if TRUE == ExecFallStart(FALSE) then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

ThrowCommonFunction = f6424_local0
f6424_local0 = function ()
    local action_type = env(ESD_ENV_GetAIActionType)
    if action_type == LADDER_REQUEST_UP then
        Fire("W_LadderRemoveWeaponBottom")
        return TRUE
    elseif action_type == LADDER_REQUEST_DOWN then
        Fire("W_LadderRemoveWeaponTop")
        return TRUE
    end
    return FALSE
    
end

ExecAILadder = f6424_local0
f6424_local0 = function ()
    local hp = env(ESD_ENV_GetHP)
    if hp <= 0 then
        Fire("W_LadderDeath")
        return TRUE
    end
    local stamina = env(ESD_ENV_GetStamina)
    if stamina <= 0 then
        Fire("W_LadderFallStart")
        return TRUE
    end
    return FALSE
    
end

ExecLadderFall = f6424_local0
f6424_local0 = function (hand)
    if env(ESD_ENV_HasReceivedAnyDamage) == FALSE then
        return FALSE
    end
    local event_hand = "Left"
    if hand == LADDER_HAND_RIGHT then
        event_hand = "Right"
    end
    local stamina = env(ESD_ENV_GetStamina)
    if stamina <= LADDER_DAMAGE_STAMINA_THREAHOLD then
        act(1001, LADDER_LARGE_DAMAGE_STAMINA_CONSUME)
        Fire("W_LadderDamageLarge" .. event_hand)
        return TRUE
    else
        act(1001, LADDER_SMALL_DAMAGE_STAMINA_CONSUME)
        Fire("W_LadderDamageSmall" .. event_hand)
        return TRUE
    end
    return FALSE
    
end

ExecLadderDamage = f6424_local0
f6424_local0 = function (hand, is_idle)
    local event_hand = "Left"
    if hand == LADDER_HAND_RIGHT then
        event_hand = "Right"
    end
    local action_type = env(ESD_ENV_GetAIActionType)
    if action_type == LADDER_REQUEST_UP then
        if env(ESD_ENV_IsReachTopOfLadder) == TRUE then
            Fire("W_LadderEndTop" .. event_hand)
            return TRUE
        end
        if env(ESD_ENV_DoesLadderHaveCharacters, CONFLICT_DIST_CHR, UPSIDE, PLAYER) == TRUE then
            local stamina = env(ESD_ENV_GetStamina)
            if stamina < LADDER_ATTACK_STAMINA_THRESHOLD then
                return FALSE
            end
            Fire("W_LadderAttackUp" .. event_hand)
            act(1001, LADDER_ATTACK_STAMINA_CONSUME)
            return TRUE
        end
        if env(ESD_ENV_IsSomeoneOnLadder, CONFLICT_DIST_CHR, 0) == TRUE then
            if is_idle == TRUE and env(ESD_ENV_DoesLadderHaveCharacters, 0, UPSIDE, ENEMY) == TRUE and env(ESD_ENV_IsReachBottomOfLadder) == TRUE then
                Fire("W_LadderEndBottom" .. event_hand)
                return TRUE
            end
            return FALSE
        end
        Fire("W_LadderUp" .. event_hand)
        return TRUE
    elseif action_type == LADDER_REQUEST_DOWN then
        if env(ESD_ENV_IsReachBottomOfLadder) == TRUE then
            Fire("W_LadderEndBottom" .. event_hand)
            return TRUE
        end
        if env(ESD_ENV_DoesLadderHaveCharacters, CONFLICT_DIST_CHR, DOWNSIDE, PLAYER) == TRUE then
            local stamina = env(ESD_ENV_GetStamina)
            if stamina < LADDER_ATTACK_STAMINA_THRESHOLD then
                return FALSE
            end
            Fire("W_LadderAttackDown" .. event_hand)
            act(1001, LADDER_ATTACK_STAMINA_CONSUME)
            return TRUE
        end
        if env(ESD_ENV_IsSomeoneUnderLadder, CONFLICT_DIST_COAST, 0) == FALSE then
            Fire("W_LadderCoastStart")
            return TRUE
        end
        if is_idle == TRUE and env(ESD_ENV_IsSomeoneUnderLadder, CONFLICT_DIST_CHR, 0) == TRUE then
            Fire("W_FallingDefault")
            LadderSetActionState(LADDER_ACTION_INVALID)
            return TRUE
        end
        Fire("W_LadderDown" .. event_hand)
        return TRUE
    end
    if is_idle == FALSE then
        Fire("W_LadderIdle" .. event_hand)
        return TRUE
    end
    return FALSE
    
end

ExecLadderNextAction = f6424_local0
f6424_local0 = function (hand)
    if env(ESD_ENV_IsReachBottomOfLadder) == TRUE then
        Fire("W_LadderCoastEnd")
        return TRUE
    end
    local event_hand = "Left"
    if hand == LADDER_HAND_RIGHT then
        event_hand = "Right"
    end
    if env(ESD_ENV_IsSomeoneUnderLadder, CONFLICT_DIST_CHR, 0) == FALSE then
        Fire("W_LadderCoast" .. event_hand)
        return TRUE
    else
        Fire("W_LadderCoastStop" .. event_hand)
        return TRUE
    end
    return FALSE
    
end

ExecLadderCoastNextAction = f6424_local0
f6424_local0 = function (hand)
    if ExecLadderFall() == TRUE then
        return TRUE
    end
    if ExecLadderDamage(hand) == TRUE then
        return TRUE
    end
    if ExecLadderNextAction(hand, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderIdleCommonFunction = f6424_local0
f6424_local0 = function (hand)
    if ExecLadderFall() == TRUE then
        return TRUE
    end
    if TRUE == env(ESD_ENV_IsAnimEnd, 1) and ExecLadderNextAction(hand, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderMoveCommonFunction = f6424_local0
f6424_local0 = function (hand)
    if ExecLadderFall() == TRUE then
        return TRUE
    end
    if ExecLadderDamage(hand) == TRUE then
        return TRUE
    end
    if TRUE == env(ESD_ENV_IsAnimEnd, 1) and ExecLadderNextAction(hand, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderAttackCommonFunction = f6424_local0
f6424_local0 = function (hand)
    if ExecLadderFall() == TRUE then
        return TRUE
    end
    if ExecLadderDamage(hand) == TRUE then
        return TRUE
    end
    if TRUE == env(ESD_ENV_IsAnimEnd, 1) and ExecLadderNextAction(hand, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderDamageCommonFunction = f6424_local0
f6424_local0 = function ()
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderStartEndCommonFunction = f6424_local0
f6424_local0 = function ()
    if ExecPassiveTransition(FALSE, FALSE, FALSE) == TRUE then
        return TRUE
    end
    if ExecActiveTransition(TRUE, STYLE_DEFAULT, MOVE_TYPE_NONE, TRUE) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderEquipWeaponCommonFunction = f6424_local0
f6424_local0 = function (hand)
    if ExecLadderFall() == TRUE then
        return TRUE
    end
    if TRUE == env(ESD_ENV_IsAnimEnd, 1) and ExecLadderCoastNextAction(hand) == TRUE then
        return TRUE
    end
    return FALSE
    
end

LadderCoastCommonFunction = f6424_local0
f6424_local0 = function (command)
    if command ~= LADDER_COMMAND_INVALID then
        act(108, command)
    end
    
end

LadderSendCommand = f6424_local0
f6424_local0 = function (state)
    act(133, state)
    
end

LadderSetActionState = f6424_local0
f6424_local0 = function ()
    SetVariable("IdleUniqueStartTime", math.random() * 3)
    
end

Init_onActivate = f6424_local0
f6424_local0 = function ()
    act(136, THROW_STATE_NONE)
    local event_id = env(ESD_ENV_GetCommandIDFromEvent, 1)
    if event_id == 2160 then
        Fire("W_Event30003")
        return 
    end
    local hp = env(ESD_ENV_GetHP)
    local damage_type = env(ESD_ENV_GetReceivedDamageType)
    if damage_type == DAMAGE_TYPE_DEATHIDLE or hp <= 0 then
        SetVariable("IndexDeathIdleVariation", 0)
        Fire("W_DeathIdleDefault")
        return 
    end
    if env(ESD_ENV_IsGenerateAction) == TRUE then
        Fire("W_Generate")
        return 
    end
    SetIdleType(AI_STATE_DEFAULT)
    Fire("W_Idle")
    return 
    
end

Init_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(700) == TRUE then
        return 
    end
    
end

IdleUnique700_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(701) == TRUE then
        return 
    end
    
end

IdleUnique701_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(702) == TRUE then
        return 
    end
    
end

IdleUnique702_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(703) == TRUE then
        return 
    end
    
end

IdleUnique703_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(704) == TRUE then
        return 
    end
    
end

IdleUnique704_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(705) == TRUE then
        return 
    end
    
end

IdleUnique705_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(706) == TRUE then
        return 
    end
    
end

IdleUnique706_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(707) == TRUE then
        return 
    end
    
end

IdleUnique707_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(708) == TRUE then
        return 
    end
    
end

IdleUnique708_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(709) == TRUE then
        return 
    end
    
end

IdleUnique709_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleUniqueCommonFunction(710) == TRUE then
        return 
    end
    
end

IdleUnique710_onUpdate = f6424_local0
f6424_local0 = function ()
    if GenerateCommonFunction() == TRUE then
        return 
    end
    
end

Generate_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1700_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1701_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1702_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1703_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1704_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1705_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1706_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1707_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1708_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1709_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

IdleUniqueToIdle1710_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

IdleDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

IdleBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransIdleCommonFunction() == TRUE then
        return 
    end
    
end

TransToDefaultFromBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransIdleCommonFunction() == TRUE then
        return 
    end
    
end

TransToBattleFromDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransStyleCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

ParryStart_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(4000, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack4000_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransStyleCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

ParryEnd_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

ParryIdle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_PARRY, MOVE_TYPE_WALK_FRONT) == TRUE then
        return 
    end
    
end

ParryWalkFront_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_PARRY, MOVE_TYPE_WALK_BACK) == TRUE then
        return 
    end
    
end

ParryWalkBack_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_PARRY, MOVE_TYPE_WALK_LEFT) == TRUE then
        return 
    end
    
end

ParryWalkLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_PARRY, MOVE_TYPE_WALK_RIGHT) == TRUE then
        return 
    end
    
end

ParryWalkRight_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_PARRY, MOVE_TYPE_RUN) == TRUE then
        return 
    end
    
end

ParryRun_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransStyleCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

GuardStart_onUpdate = f6424_local0
f6424_local0 = function ()
    if TransStyleCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

GuardEnd_onUpdate = f6424_local0
f6424_local0 = function ()
    if IdleCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

GuardIdle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_GUARD, MOVE_TYPE_WALK_FRONT) == TRUE then
        return 
    end
    
end

GuardWalkFront_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_GUARD, MOVE_TYPE_WALK_BACK) == TRUE then
        return 
    end
    
end

GuardWalkBack_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_GUARD, MOVE_TYPE_WALK_LEFT) == TRUE then
        return 
    end
    
end

GuardWalkLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_GUARD, MOVE_TYPE_WALK_RIGHT) == TRUE then
        return 
    end
    
end

GuardWalkRight_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_GUARD, MOVE_TYPE_RUN) == TRUE then
        return 
    end
    
end

GuardRun_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_RUN) == TRUE then
        return 
    end
    
end

RunBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_WALK_FRONT) == TRUE then
        return 
    end
    
end

WalkFrontBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_WALK_LEFT) == TRUE then
        return 
    end
    
end

WalkLeftBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_WALK_BACK) == TRUE then
        return 
    end
    
end

WalkBackBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_WALK_RIGHT) == TRUE then
        return 
    end
    
end

WalkRightBattle_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_RUN) == TRUE then
        return 
    end
    
end

RunDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_WALK_FRONT) == TRUE then
        return 
    end
    
end

WalkFrontDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if MoveCommonFunction(STYLE_DEFAULT, MOVE_TYPE_PARALLEL) == TRUE then
        return 
    end
    
end

ParallelMove_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3000, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3000_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3001, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3001_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3002, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3002_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3003, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3003_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3004, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3004_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3005, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3005_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3006, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3006_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3007, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3007_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3008, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3008_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3009, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3009_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3010, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3010_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3011, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3011_onUpdate = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DARK_DORAGON_3012to20) == TRUE then
        Fire("W_IdleBattle")
        return 
    end
    if AttackCommonFunction(3012, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3012_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3013, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3013_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3014, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3014_onUpdate = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC2_ABADON_SMALL_3015to30000) == TRUE then
        Fire("W_Event30000")
        return 
    end
    if AttackCommonFunction(3015, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3015_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3016, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3016_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3017, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3017_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3018, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3018_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3019, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3019_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3020, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3020_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3021, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3021_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3022, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3022_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3023, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3023_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3024, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3024_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3025, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3025_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3026, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3026_onUpdate = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DARK_DORAGON_3027to20) == TRUE then
        Fire("W_IdleBattle")
        return 
    end
    if AttackCommonFunction(3027, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3027_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3028, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3028_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3029, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3029_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3030, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3030_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3031, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3031_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3032, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3032_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3033, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3033_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3034, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3034_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3035, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3035_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3036, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3036_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3037, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3037_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3038, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3038_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3039, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3039_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3110, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3110_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3200, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3200_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3201, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3201_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3202, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3202_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3203, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3203_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3204, STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

Attack3204_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(4600, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    if TRUE == env(ESD_ENV_IsAnimEnd, 1) then
        if TRUE == env(ESD_ENV_GetStateChangeType, SP_EFFECT_TYPE_DISABLE_EST) then
            ExecAttack(4602)
            return 
        else
            ExecAttack(4601)
            return 
        end
    end
    
end

Attack4600_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(4601, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack4601_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(4602, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack4602_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(1500, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack1500_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(1600, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack1600_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(1810, STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

Attack1810_onUpdate = f6424_local0
f6424_local0 = function ()
    if StepCommonFunction(6000) == TRUE then
        return 
    end
    
end

Step6000_onUpdate = f6424_local0
f6424_local0 = function ()
    if StepCommonFunction(6001) == TRUE then
        return 
    end
    
end

Step6001_onUpdate = f6424_local0
f6424_local0 = function ()
    if StepCommonFunction(6002) == TRUE then
        return 
    end
    
end

Step6002_onUpdate = f6424_local0
f6424_local0 = function ()
    if StepCommonFunction(6003) == TRUE then
        return 
    end
    
end

Step6003_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Left90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Right90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Left180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Right180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Left45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnDefault_Right45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Left90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Right90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Left180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Right180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Left45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_DEFAULT) == TRUE then
        return 
    end
    
end

TurnBattle_Right45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Left90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Right90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Left180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Right180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Left45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_GUARD) == TRUE then
        return 
    end
    
end

TurnGuard_Right45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Left90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Left180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Left45_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Right90_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Right180_onUpdate = f6424_local0
f6424_local0 = function ()
    if TurnCommonFunction(STYLE_PARRY) == TRUE then
        return 
    end
    
end

TurnParry_Right45_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageSpecial_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageSpecial_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

SABreak_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

SABreak_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageSmall_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageSmall_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageMiddle_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageMiddle_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageLarge_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageLarge_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageLargeBlow_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageLargeBlow_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageSmallBlow_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageSmallBlow_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageFling_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageFling_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamagePush_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamagePush_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageUpper_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageUpper_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageWeak_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, TRUE) == TRUE then
        return 
    end
    
end

DamageWeak_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageSmallFire_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageSmallFire_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageLargeFire_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageLargeFire_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardDamageSmall_onActivate = f6424_local0
f6424_local0 = function ()
    act(110)
    if DamageCommonFunction(STYLE_GUARD, FALSE) == TRUE then
        return 
    end
    
end

GuardDamageSmall_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardDamageSmallLowStamina_onActivate = f6424_local0
f6424_local0 = function ()
    act(110)
    if DamageCommonFunction(STYLE_GUARD, FALSE) == TRUE then
        return 
    end
    
end

GuardDamageSmallLowStamina_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardDamageMiddle_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_GUARD, FALSE) == TRUE then
        return 
    end
    
end

GuardDamageMiddle_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardDamageLarge_onActivate = f6424_local0
f6424_local0 = function ()
    act(110)
    if DamageCommonFunction(STYLE_GUARD, FALSE) == TRUE then
        return 
    end
    
end

GuardDamageLarge_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardDamageLargeLowStamina_onActivate = f6424_local0
f6424_local0 = function ()
    act(110)
    if DamageCommonFunction(STYLE_GUARD, FALSE) == TRUE then
        return 
    end
    
end

GuardDamageLargeLowStamina_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

GuardBreak_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

GuardBreak_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageParryEnemy1_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageParryEnemy1_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

DamageParryEnemy2_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

DamageParryEnemy2_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

AttackBoundEnemy1_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

AttackBoundEnemy1_onUpdate = f6424_local0
f6424_local0 = function ()
    CallActionState(0)
    
end

AttackBoundEnemy2_onActivate = f6424_local0
f6424_local0 = function ()
    if DamageCommonFunction(STYLE_DEFAULT, FALSE) == TRUE then
        return 
    end
    
end

AttackBoundEnemy2_onUpdate = f6424_local0
f6424_local0 = function ()
    act("イベントアニメ再生要求拒否")
    
end

DeathStart_Activate = f6424_local0
f6424_local0 = function ()
    act("イベントアニメ再生要求拒否")
    
end

DeathStart_Update = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_DEFAULT) == TRUE then
        return 
    end
    
end

DeathStartDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_FIRE) == TRUE then
        return 
    end
    
end

DeathStartFire_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_WEAK) == TRUE then
        return 
    end
    
end

DeathStartWeak_onUpdate = f6424_local0
f6424_local0 = function ()
    act(125)
    
end

DeathStartBlast_onActivate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_BLAST) == TRUE then
        return 
    end
    
end

DeathStartBlast_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_FLING) == TRUE then
        return 
    end
    
end

DeathStartFling_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_UPPER) == TRUE then
        return 
    end
    
end

DeathStartUpper_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_LAND_DEFAULT) == TRUE then
        return 
    end
    
end

DeathStartLandDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_LAND_UPWARD) == TRUE then
        return 
    end
    
end

DeathStartLandUpward_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_LAND_DOWNWARD) == TRUE then
        return 
    end
    
end

DeathStartLandDownward_onUpdate = f6424_local0
f6424_local0 = function ()
    if FallCommonFunction(FALL_DEFAULT) == TRUE then
        return 
    end
    
end

FallingDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if FallCommonFunction(FALL_UPWARD) == TRUE then
        return 
    end
    
end

FallingUpward_onUpdate = f6424_local0
f6424_local0 = function ()
    if FallCommonFunction(FALL_DOWNWARD) == TRUE then
        return 
    end
    
end

FallingDownward_onUpdate = f6424_local0
f6424_local0 = function ()
    if LandCommonFunction() == TRUE then
        return 
    end
    
end

LandDefault_onUpdate = f6424_local0
f6424_local0 = function ()
    if LandCommonFunction() == TRUE then
        return 
    end
    
end

LandHeavy_onUpdate = f6424_local0
f6424_local0 = function ()
    if LandCommonFunction() == TRUE then
        return 
    end
    
end

LandUpward_onUpdate = f6424_local0
f6424_local0 = function ()
    if LandCommonFunction() == TRUE then
        return 
    end
    
end

LandDownward_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("ThrowID", env(ESD_ENV_GetThrowAnimID))
    
end

Throw_Activate = f6424_local0
f6424_local0 = function ()
    act(136, THROW_STATE_NONE)
    
end

Throw_Deactivate = f6424_local0
f6424_local0 = function ()
    Replanning()
    
end

ThrowAtk_onActivate = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DidOpponentDieFromThrow) == TRUE and TRUE == IsExistAnime(GetVariable("ThrowID") + 1) then
        Fire("W_ThrowKill")
        return 
    end
    if env(ESD_ENV_HasThrowEnded) == TRUE and TRUE == IsExistAnime(GetVariable("ThrowID") + 2) then
        Fire("W_ThrowRelease")
        return 
    end
    if TRUE == ThrowCommonFunction() then
        return 
    end
    
end

ThrowAtk_onUpdate = f6424_local0
f6424_local0 = function ()
    Replanning()
    
end

ThrowDef_onActivate = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_GetHP) <= 1 and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_DEAD) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_THROWDEAD) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_UNABLE_DEAD) == FALSE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU_DONE) == FALSE then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU) == FALSE then
            Fire("W_ThrowDefDeath")
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_BEAM) == TRUE then
            Fire("W_Event20004")
        else
            Fire("W_Event20005")
        end
        return 
    end
    if env(ESD_ENV_IsThrowSelfDeath) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_CRIMSONBAT_HU_DONE) == TRUE then
        Fire("W_Event20008")
        return 
    end
    if env(ESD_ENV_IsThrowSelfDeath) == TRUE then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_UNDEAD) ~= TRUE or env(ESD_ENV_GetHP) <= 0 then
            Fire("W_ThrowDefDeath")
        end
        return 
    end
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_FATHERDEAD) == TRUE and env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_MODE3) == FALSE then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_THROWDEAD) == TRUE then
            Fire("W_Event20004")
            return 
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_PARRYDEAD) == TRUE then
            Fire("W_Event20005")
            return 
        elseif env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_DLC_BOSSMUSUME_NORMALDEAD) == TRUE then
            Fire("W_Event20003")
            return 
        end
    end
    if TRUE == ThrowCommonFunction() then
        return 
    end
    if env(ESD_ENV_IsAnimEnd, 1) == TRUE then
        if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_TINDALOS_THROW_DEF) == TRUE then
            Fire("W_Event20005")
            return 
        else
            Fire("W_Idle")
            return 
        end
    end
    
end

ThrowDef_onUpdate = f6424_local0
f6424_local0 = function ()
    if ThrowCommonFunction() == TRUE then
        return 
    end
    
end

ThrowRelease_onUpdate = f6424_local0
f6424_local0 = function ()
    if ThrowCommonFunction() == TRUE then
        return 
    end
    
end

ThrowKill_onUpdate = f6424_local0
f6424_local0 = function ()
    act(136, THROW_STATE_NONE)
    
end

ThrowDefDeath_onActivate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_THROW_DEF) == TRUE then
        return 
    end
    
end

ThrowDefDeath_onUpdate = f6424_local0
f6424_local0 = function ()
    act(136, THROW_STATE_NONE)
    
end

ThrowDefDeathIdle_onActivate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14000_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14001_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14010_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14011_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14020_onUpdate = f6424_local0
f6424_local0 = function ()
    if EventCommonFunction() == TRUE then
        return 
    end
    
end

Event14021_onUpdate = f6424_local0
f6424_local0 = function ()
    act("イベントアニメ再生要求拒否")
    
end

Ladder_Activate = f6424_local0
f6424_local0 = function ()
    act("イベントアニメ再生要求拒否")
    SetThrowInvalid()
    LadderSetActionState(INVALID)
    
end

Ladder_Update = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_IDLE_LEFT)
    if LadderIdleCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderIdleLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_IDLE_RIGHT)
    if LadderIdleCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderIdleRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_UP)
    
end

LadderUpRight_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_UP_RIGHT)
    if LadderMoveCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderUpRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_UP)
    
end

LadderUpLeft_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_UP_LEFT)
    if LadderMoveCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderUpLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderDownRight_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_DOWN_RIGHT)
    if LadderMoveCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderDownRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderDownLeft_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_DOWN_LEFT)
    if LadderMoveCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderDownLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderStartTop_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_START_TOP)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderStartTop_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_UP)
    
end

LadderStartBottom_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_START_BOTTOM)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderStartBottom_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_UP)
    
end

LadderEndTopLeft_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_END_TOP)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderEndTopLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_UP)
    
end

LadderEndTopRight_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_END_TOP)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderEndTopRight_onUpdate = f6424_local0
f6424_local0 = function ()
    
end

LadderEndTopRight_onDeactivate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderEndBottomLeft_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_END_BOTTOM)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderEndBottomLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderEndBottomRight_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_END_BOTTOM)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderEndBottomRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_ATTACK_DOWN_LEFT)
    if LadderAttackCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderAttackDownLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_ATTACK_DOWN_RIGHT)
    if LadderAttackCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderAttackDownRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_ATTACK_UP_LEFT)
    if LadderAttackCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderAttackUpLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_ATTACK_UP_RIGHT)
    if LadderAttackCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderAttackUpRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_SMALL_DAMAGE)
    if LadderDamageCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderDamageSmallRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_SMALL_DAMAGE)
    if LadderDamageCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderDamageSmallLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_LARGE_DAMAGE)
    if LadderDamageCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderDamageLargeRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_LARGE_DAMAGE)
    if LadderDamageCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderDamageLargeLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_INVALID)
    
end

LadderFallStart_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecLand(FALL_LADDER) == TRUE then
        return 
    end
    
end

LadderFall_onUpdate = f6424_local0
f6424_local0 = function ()
    if LandCommonFunction() == TRUE then
        return 
    end
    
end

LadderFallLand_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_START_LEFT)
    if LadderCoastCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderCoastStart_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderCoastLeft_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_LEFT)
    if LadderCoastCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderCoastLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderCoastRight_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_RIGHT)
    if LadderCoastCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderCoastRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_STOP_LEFT)
    if LadderMoveCommonFunction(LADDER_HAND_LEFT) == TRUE then
        return 
    end
    
end

LadderCoastStopLeft_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_STOP_RIGHT)
    if LadderMoveCommonFunction(LADDER_HAND_RIGHT) == TRUE then
        return 
    end
    
end

LadderCoastStopRight_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSendCommand(LADDER_COMMAND_DOWN)
    
end

LadderCoastEnd_onActivate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_COAST_LANDING)
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderCoastEnd_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_INVALID)
    
end

LadderDeath_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecLand(FALL_LADDER) == TRUE then
        return 
    end
    
end

LadderDeathFall_onUpdate = f6424_local0
f6424_local0 = function ()
    if ExecTransToDeathIdle(DEATH_TYPE_LADDER) == TRUE then
        return 
    end
    
end

DeathStartLadder_onUpdate = f6424_local0
f6424_local0 = function ()
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderRemoveWeaponBottom_onUpdate = f6424_local0
f6424_local0 = function ()
    if LadderStartEndCommonFunction() == TRUE then
        return 
    end
    
end

LadderRemoveWeaponTop_onUpdate = f6424_local0
f6424_local0 = function ()
    LadderSetActionState(LADDER_ACTION_INVALID)
    if LadderEquipWeaponCommonFunction() == TRUE then
        return 
    end
    
end

LadderEquipWeapon_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3100, STYLE_GUARD, TRUE) == TRUE then
        return 
    end
    
end

Attack3100_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3101, STYLE_GUARD, TRUE) == TRUE then
        return 
    end
    
end

Attack3101_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3102, STYLE_GUARD, TRUE) == TRUE then
        return 
    end
    
end

Attack3102_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3103, STYLE_GUARD, TRUE) == TRUE then
        return 
    end
    
end

Attack3103_onUpdate = f6424_local0
f6424_local0 = function ()
    if AttackCommonFunction(3104, STYLE_GUARD, TRUE) == TRUE then
        return 
    end
    
end

Attack3104_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart1", 0)
    
end

PartBlend_NoAdd1_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart2", 0)
    
end

PartBlend_NoAdd2_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart3", 0)
    
end

PartBlend_NoAdd3_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart4", 0)
    
end

PartBlend_NoAdd4_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart5", 0)
    
end

PartBlend_NoAdd5_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart6", 0)
    
end

PartBlend_NoAdd6_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart7", 0)
    
end

PartBlend_NoAdd7_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart8", 0)
    
end

PartBlend_NoAdd8_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart9", 0)
    
end

PartBlend_NoAdd9_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart10", 0)
    
end

PartBlend_NoAdd10_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart11", 0)
    
end

PartBlend_NoAdd11_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart12", 0)
    
end

PartBlend_NoAdd12_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart13", 0)
    
end

PartBlend_NoAdd13_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart14", 0)
    
end

PartBlend_NoAdd14_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart15", 0)
    
end

PartBlend_NoAdd15_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendPart16", 0)
    
end

PartBlend_NoAdd16_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendSA", 0)
    
end

SABlend_NoAdd_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendDamageDir", 0)
    
end

DamageBlend_NoAdd_onUpdate = f6424_local0
f6424_local0 = function ()
    SetVariable("BlendDamageFire", 0)
    
end

FireDamageBlend_NoAdd_onUpdate = f6424_local0
f6424_local0 = function ()
    local ret = nil
    local move_angle = GetVariable("MoveAngle")
    local move_angle_real = GetVariable("MoveAngleReal")
    local dT = env(ESD_ENV_ObtainedDT) / 1000
    local threshold = 45 * dT
    local gap = move_angle - move_angle_real
    local gap_abs = math.abs(gap)
    local inverse = FALSE
    if gap_abs > 180 then
        gap_abs = 360 - gap_abs
        inverse = TRUE
    end
    if threshold < gap_abs then
        if move_angle_real < move_angle then
            if inverse == FALSE then
                ret = move_angle_real + threshold
            else
                ret = move_angle_real - threshold
            end
        elseif move_angle < move_angle_real then
            if inverse == FALSE then
                ret = move_angle_real - threshold
            else
                ret = move_angle_real + threshold
            end
        else
            ret = move_angle
        end
        if ret > 180 then
            ret = -180 + ret - 180
        elseif ret < -180 then
            ret = 180 + 180 + ret
        end
    else
        ret = move_angle
    end
    SetVariable("MoveAngleReal", ret)
    SetParallelMoveTae(ret)
    
end

ParallelMove_Update = f6424_local0
f6424_local0 = function ()
    SetVariable("ThrowHoldBlendWeight", 0)
    SetVariable("ThrowHolding", false)
    SetVariable("ThrowNoRegistTime", 0)
    
end

ThrowAtk_Activate = f6424_local0
f6424_local0 = function ()
    if IsExistAnime(GetVariable("ThrowID") + 3) == FALSE then
        return 
    end
    local regist_num = env(ESD_ENV_DS3GetThrowDefenseCount)
    local dT = env(ESD_ENV_ObtainedDT) / 1000
    local blend_weight = GetVariable("ThrowHoldBlendWeight")
    local is_holding = GetVariable("ThrowHolding")
    local no_regist_time = GetVariable("ThrowNoRegistTime")
    if regist_num > 0 then
        is_holding = true
    end
    if is_holding == true then
        if regist_num <= 0 then
            no_regist_time = no_regist_time + dT
        end
        if no_regist_time > 0.699999988079071 then
            is_holding = false
        else
            blend_weight = blend_weight + 2 * dT
            if blend_weight > 0.9900000095367432 then
                blend_weight = 0.9900000095367432
            end
            SetVariable("IsEnableTAEThrowHold", true)
        end
    else
        no_regist_time = 0
        blend_weight = blend_weight - 4 * dT
        if blend_weight < 0.009999999776482582 then
            blend_weight = 0.009999999776482582
            SetVariable("IsEnableTAEThrowHold", false)
        else
            SetVariable("IsEnableTAEThrowHold", true)
        end
    end
    SetVariable("ThrowHoldBlendWeight", blend_weight)
    SetVariable("ThrowHolding", is_holding)
    SetVariable("ThrowNoRegistTime", no_regist_time)
    
end

ThrowAtk_Update = f6424_local0
f6424_local0 = function ()
    if env(ESD_ENV_DS3GetSpecialEffectID, SP_EFFECT_ENABLE_PARRY_THROW) == FALSE then
        SetThrowDefInvalid()
    end
    
end

Damage_Update = f6424_local0
f6424_local0 = function ()
    g_FrameCount = g_FrameCount + 1
    
end

Update = f6424_local0
f6424_local0 = {}
global = f6424_local0
f6424_local0 = function ()
    
end

dummy = f6424_local0
f6424_local0 = global
f6424_local1 = "__index"
f6424_local2 = function (table, element)
    return dummy
    
end

f6424_local0[f6424_local1] = f6424_local2
f6424_local0 = setmetatable
f6424_local1 = _G
f6424_local2 = global
f6424_local0(f6424_local1, f6424_local2)

end
